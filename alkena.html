<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multimedia Pembelajaran Alkena</title>
  <link rel="icon" href="favicon.png" type="image/png">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    
    * {
      font-family: 'Poppins', sans-serif;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #4ECDC4 100%);
    }
    
    .sidebar-gradient {
      background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
    }
    
    .content-gradient {
      background: linear-gradient(135deg, #f8faff 0%, #e8f4f8 50%, #f0f9ff 100%);
    }
    
    .card-gradient {
      background: linear-gradient(135deg, #ffffff 0%, #f8faff 100%);
    }
    
    .nav-btn {
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
    }
    
    .nav-btn:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: translateX(5px);
    }
    
    .nav-btn.active {
      background: rgba(255, 255, 255, 0.35);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      transform: translateX(8px);
      border-left: 4px solid #FFD93D;
    }
    
    .content-section {
      animation: slideIn 0.5s ease-out;
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    .header-pattern {
      /* position: relative;  Removed to allow sticky behavior on header element */
      overflow: hidden;
    }
    
    .header-pattern::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='20' cy='20' r='8' fill='rgba(255,255,255,0.1)'/%3E%3Ccircle cx='20' cy='20' r='3' fill='rgba(255,255,255,0.2)'/%3E%3Cline x1='20' y1='20' x2='50' y2='30' stroke='rgba(255,255,255,0.1)' stroke-width='2'/%3E%3Ccircle cx='50' cy='30' r='6' fill='rgba(255,255,255,0.1)'/%3E%3Ccircle cx='50' cy='30' r='2' fill='rgba(255,255,255,0.2)'/%3E%3Cline x1='50' y1='30' x2='80' y2='25' stroke='rgba(255,255,255,0.1)' stroke-width='2'/%3E%3Ccircle cx='80' cy='25' r='7' fill='rgba(255,255,255,0.1)'/%3E%3Ccircle cx='80' cy='25' r='2.5' fill='rgba(255,255,255,0.2)'/%3E%3Cline x1='50' y1='30' x2='40' y2='60' stroke='rgba(255,255,255,0.1)' stroke-width='2'/%3E%3Ccircle cx='40' cy='60' r='5' fill='rgba(255,255,255,0.1)'/%3E%3Cline x1='40' y1='60' x2='70' y2='70' stroke='rgba(255,255,255,0.1)' stroke-width='2'/%3E%3Ccircle cx='70' cy='70' r='6' fill='rgba(255,255,255,0.1)'/%3E%3Chexagon points='15,80 25,75 35,80 35,90 25,95 15,90' fill='rgba(255,255,255,0.05)' stroke='rgba(255,255,255,0.1)'/%3E%3C/svg%3E");
      background-size: 150px 150px;
      opacity: 0.6;
    }
    
    .molecule-float {
      animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-10px) rotate(5deg); }
    }
    
    .popup-overlay {
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(5px);
    }
    
    .popup-content {
      animation: popIn 0.4s ease-out;
    }
    
    @keyframes popIn {
      from {
        opacity: 0;
        transform: scale(0.8);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    .info-card {
      transition: all 0.3s ease;
    }
    
    .info-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }
    
    .interactive-btn {
      transition: all 0.3s ease;
    }
    
    .interactive-btn:hover {
      transform: scale(1.05);
    }
    
    .interactive-btn:active {
      transform: scale(0.98);
    }
    
    .table-row:hover {
      background: rgba(78, 205, 196, 0.1);
    }
    
    /* Removed .sidebar-collapsed as we use transform for mobile responsiveness now */
    
    .hamburger-btn {
      transition: all 0.3s ease;
    }
    
    .hamburger-btn:hover {
      background: rgba(102, 126, 234, 0.2);
    }
    
    ::-webkit-scrollbar {
      width: 5px;
      height: 5px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #667eea, #764ba2);
      border-radius: 10px;
    }

    @media (max-width: 640px) {
      ::-webkit-scrollbar {
        width: 4px;
        height: 3px;
      }
    }
    
    .example-step {
      border-left: 3px solid #4ECDC4;
      transition: all 0.3s ease;
    }
    
    .example-step:hover {
      border-left-color: #FFD93D;
      background: rgba(78, 205, 196, 0.05);
    }
    
    @keyframes pulse-glow {
      0%, 100% {
        box-shadow: 0 0 15px rgba(68, 168, 255, 0.6), 0 0 25px rgba(78, 205, 196, 0.4);
      }
      50% {
        box-shadow: 0 0 30px rgba(68, 168, 255, 1), 0 0 50px rgba(78, 205, 196, 0.8), 0 0 70px rgba(68, 168, 255, 0.5);
      }
    }
    
    .animate-pulse-glow {
      animation: pulse-glow 2s ease-in-out infinite;
    }
    
    .animate-pulse-glow:hover {
      box-shadow: 0 0 40px rgba(68, 168, 255, 1), 0 0 60px rgba(78, 205, 196, 1) !important;
    }
    
    .inline-learn-btn {
      display: inline-block;
      margin-left: 8px;
      vertical-align: text-bottom;
    }

    /* Animasi untuk Kuis */
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    .animate-shake { animation: shake 0.5s; }

    @keyframes popInSuccess {
      0% { transform: scale(0.9); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    .animate-popIn { animation: popInSuccess 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    
    .accordion-content {
      transition: max-height 0.3s ease-out;
      overflow: hidden;
    }

    /* Tambahan untuk animasi tutup/buka sidebar di mode Desktop */
    @media (min-width: 1024px) {
      .desktop-closed {
        margin-left: -18rem !important; /* -w-72 (288px) */
      }
    }

    /* CSS Khusus untuk Flip Card */
    .perspective-1000 { perspective: 1000px; }
    .transform-style-3d { transform-style: preserve-3d; }
    .backface-hidden { backface-visibility: hidden; }
    .rotate-y-180 { transform: rotateY(180deg); }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full m-0 p-0 overflow-hidden bg-gray-50">
  <div id="app" class="flex h-full w-full relative">
   
   <!-- Mobile Overlay (Backdrop) -->
   <div id="sidebarOverlay" onclick="toggleSidebar()" class="fixed inset-0 bg-black/50 z-40 hidden transition-opacity duration-300 opacity-0 lg:hidden"></div>

   <!-- Sidebar -->
   <aside id="sidebar" class="sidebar-gradient fixed inset-y-0 left-0 z-50 w-72 h-full flex flex-col transition-all duration-300 ease-in-out transform -translate-x-full lg:translate-x-0 lg:static lg:inset-auto shadow-2xl overflow-hidden">
    <!-- Sidebar Header -->
    <div class="p-6 border-b border-white/20 shrink-0 z-10 bg-inherit flex justify-between items-center">
     <div class="flex items-center gap-3">
      <!-- Close button for mobile inside sidebar -->
      <button class="md:hidden text-white hover:bg-white/20 p-1 rounded transition-colors lg:hidden" onclick="toggleSidebar()">âœ•</button>
      <div class="flex items-center gap-2"><span class="text-3xl">ğŸ“š</span>
       <h1 id="mainTitle" class="text-2xl font-bold text-white">ALKENA</h1>
      </div>
     </div>
    </div><!-- Navigation -->
    <nav class="flex-1 p-4 space-y-3 overflow-y-auto overflow-x-hidden"><button onclick="switchTab(1)" id="navBtn1" class="nav-btn active w-full text-left p-4 rounded-2xl text-white font-medium flex items-center gap-3"> <span class="text-2xl">ğŸ”¬</span> <span class="text-sm">Mengenal Senyawa Alkena</span> </button> <button onclick="switchTab(2)" id="navBtn2" class="nav-btn w-full text-left p-4 rounded-2xl text-white font-medium flex items-center gap-3"> <span class="text-2xl">ğŸ“</span> <span class="text-sm">Tata Nama Alkena</span> </button> <button onclick="switchTab(3)" id="navBtn3" class="nav-btn w-full text-left p-4 rounded-2xl text-white font-medium flex items-center gap-3"> <span class="text-2xl">ğŸ§©</span> <span class="text-sm">Isomer Alkena</span> </button> <button onclick="switchTab(4)" id="navBtn4" class="nav-btn w-full text-left p-4 rounded-2xl text-white font-medium flex items-center gap-3"> <span class="text-2xl">âš—ï¸</span> <span class="text-sm">Sifat Alkena</span> </button>
    </nav><!-- Sidebar Footer -->
    <div class="p-4 border-t border-white/20 shrink-0 z-10 bg-inherit">
     <div class="text-white/60 text-xs text-center">
      <p>ğŸ“ Multimedia Pembelajaran</p>
      <p>Kimia Hidrokarbon</p>
     </div>
    </div>
   </aside><!-- Main Content -->
   <main id="mainContent" class="flex-1 h-full w-full overflow-auto content-gradient transition-all duration-300 min-w-0"><!-- Header with Chemistry Pattern (Sticky) -->
    <header class="header-pattern gradient-bg p-3 sticky top-0 z-30 shadow-lg">
     <div class="flex justify-between items-center relative z-10">
      <div class="flex items-center gap-3">
       <!-- Hamburger Button: Visible on ALL modes now -->
       <button id="hamburgerBtnMain" class="hamburger-btn p-1.5 rounded-xl text-white text-xl hover:bg-white/20 block" onclick="toggleSidebar()"> â˜° </button>
       <div>
        <h2 id="headerTitle" class="text-base md:text-lg font-bold text-white">ğŸ”¬ Mengenal Senyawa Alkena</h2>
        <p class="text-white/80 text-[10px] md:text-xs mt-0.5 hidden sm:block">Pelajari dasar-dasar senyawa alkena dengan cara yang menyenangkan!</p>
       </div>
      </div><a href="eksplorasi.html" class="bg-[#44A8FF] hover:bg-[#3898ef] p-2 rounded-full shadow-lg transition-all hover:scale-110 flex items-center justify-center" title="Kembali ke Dashboard">
       <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
       </svg></a>
     </div><!-- Floating Molecules (Hidden on very small screens to save space) -->
     <div class="absolute top-2 right-16 md:right-32 molecule-float opacity-30 hidden sm:block">
      <svg width="40" height="40" viewbox="0 0 60 60"><circle cx="15" cy="30" r="8" fill="white" /> <circle cx="45" cy="30" r="8" fill="white" /> <line x1="23" y1="30" x2="37" y2="30" stroke="white" stroke-width="3" /> <line x1="23" y1="26" x2="37" y2="26" stroke="white" stroke-width="3" />
      </svg>
     </div>
    </header><!-- Content Container -->
    <div id="contentContainer" class="p-4 md:p-6"><!-- Tab 1: Mengenal Senyawa Alkena -->
     <div id="tab1" class="content-section"><!-- MAIN HERO DEFINITION CARD - SMALLER -->
      <div class="info-card mb-6 overflow-hidden rounded-2xl shadow-xl">
       <div class="relative h-48 bg-gradient-to-br from-[#667eea] via-[#764ba2] to-[#4ECDC4] p-6 flex items-center justify-center"><!-- Animated Background Pattern -->
        <div class="absolute inset-0 opacity-20">
         <svg class="w-full h-full" viewbox="0 0 400 300"><defs>
           <pattern id="dots" x="0" y="0" width="40" height="40" patternunits="userSpaceOnUse">
            <circle cx="20" cy="20" r="2" fill="white" />
           </pattern>
          </defs> <rect width="400" height="300" fill="url(#dots)" />
         </svg>
        </div><!-- Animated Molecules -->
        <div class="absolute top-4 right-8 animate-bounce" style="animation-duration: 3s;">
         <svg width="45" height="45" viewbox="0 0 60 60"><circle cx="15" cy="30" r="8" fill="white" opacity="0.8" /> <circle cx="45" cy="30" r="8" fill="white" opacity="0.8" /> <line x1="23" y1="30" x2="37" y2="30" stroke="white" stroke-width="3" opacity="0.8" /> <line x1="23" y1="26" x2="37" y2="26" stroke="white" stroke-width="3" opacity="0.8" />
         </svg>
        </div>
        <div class="absolute bottom-6 left-6 animate-pulse">
         <svg width="38" height="38" viewbox="0 0 50 50"><circle cx="10" cy="25" r="6" fill="white" opacity="0.6" /> <circle cx="40" cy="25" r="6" fill="white" opacity="0.6" /> <line x1="16" y1="25" x2="34" y2="25" stroke="white" stroke-width="2" opacity="0.6" /> <line x1="16" y1="22" x2="34" y2="22" stroke="white" stroke-width="2" opacity="0.6" />
         </svg>
        </div><!-- Main Content -->
        <div class="relative z-10 text-center max-w-2xl">
         <div class="inline-block mb-2 px-4 py-1 bg-white/20 backdrop-blur-md rounded-full border border-white/30"><span class="text-white text-xs font-semibold uppercase tracking-widest">Definisi Alkena</span>
         </div>
         <h2 class="text-3xl md:text-4xl font-black text-white mb-2 leading-tight"><span class="block">Alkena</span></h2>
         <p class="text-white/90 text-sm md:text-base font-medium">Alkena adalah senyawa hidrokarbon alifatik tak jenuh yang memiliki ikatan rangkap dua <strong class="text-[#FFD93D]">(C=C)</strong></p>
        </div>
       </div>
      </div><!-- INTERACTIVE VISUALIZATION CARDS -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-5 mb-6"><!-- Card 1: Sifat Ikatan -->
       <div class="info-card card-gradient rounded-3xl p-6 shadow-lg">
        <div class="flex items-start gap-4 mb-4">
         <div class="bg-gradient-to-br from-[#764ba2] to-[#FFA500] p-4 rounded-2xl flex-shrink-0"><span class="text-3xl">âš¡</span>
         </div>
         <div>
          <div class="text-xs font-bold uppercase tracking-widest text-[#764ba2] mb-1">
           01
          </div>
          <h3 class="text-xl font-black text-gray-800">Sifat Ikatan</h3>
         </div>
        </div><!-- Visual Representation -->
        <div class="bg-gradient-to-br from-[#764ba2]/10 to-[#FFA500]/10 rounded-2xl p-4 mb-4 h-32 flex items-center justify-center relative overflow-hidden">
         <div class="relative z-10 text-center">
          <div class="inline-block">
           <div class="flex gap-2 items-center mb-3">
            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold">
             âœ“
            </div><span class="text-xs font-bold text-green-600">Ikatan tunggal (kuat)</span>
           </div>
           <div class="flex gap-2 items-center">
            <div class="w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold">
             âš 
            </div><span class="text-xs font-bold text-red-600">Ikatan rangkap (lemah)</span>
           </div>
          </div>
         </div>
        </div>
        <p class="text-sm text-gray-600 leading-relaxed font-medium">Ikatan rangkap lebih lemah karena adanya <strong class="text-[#764ba2]">ikatan pi (Ï€)</strong> yang <strong class="text-red-500">mudah diputus</strong></p>
       </div><!-- Card 2: Reaktivitas -->
       <div class="info-card card-gradient rounded-3xl p-6 shadow-lg">
        <div class="flex items-start gap-4 mb-4">
         <div class="bg-gradient-to-br from-[#FFA500] to-[#4ECDC4] p-4 rounded-2xl flex-shrink-0"><span class="text-3xl">ğŸš€</span>
         </div>
         <div>
          <div class="text-xs font-bold uppercase tracking-widest text-[#FFA500] mb-1">
           02
          </div>
          <h3 class="text-xl font-black text-gray-800">Reaktivitas</h3>
         </div>
        </div><!-- Visual Representation -->
        <div class="bg-gradient-to-br from-[#FFA500]/10 to-[#4ECDC4]/10 rounded-2xl p-4 mb-4 h-32 flex items-center justify-center relative overflow-hidden">
         <div class="relative z-10 text-center">
          <div class="flex gap-4 items-center justify-center">
           <div class="text-center">
            <div class="text-2xl mb-1">
             ğŸ¢
            </div>
            <p class="text-xs font-bold text-gray-600">Alkana</p>
            <p class="text-xs text-gray-500">Lambat</p>
           </div>
           <div class="text-2xl text-[#FFA500]">
            â†’
           </div>
           <div class="text-center">
            <div class="text-2xl mb-1">
             ğŸš€
            </div>
            <p class="text-xs font-bold text-[#FFA500]">Alkena</p>
            <p class="text-xs text-[#FFA500]">Reaktif!</p>
           </div>
          </div>
         </div>
        </div>
        <p class="text-sm text-gray-600 leading-relaxed font-medium">Alkena jauh lebih <strong class="text-[#FFA500]">reaktif</strong> dan mudah mengalami <strong class="text-[#4ECDC4]">reaksi adisi</strong></p>
       </div>
      </div><!-- DETAILED EXPLANATION SECTION -->
      <div class="info-card card-gradient rounded-2xl p-5 shadow-lg mb-6">
       <h3 class="text-xl font-bold text-gray-800 mb-5 flex items-center gap-2"><span class="bg-gradient-to-br from-[#667eea] to-[#764ba2] p-2 rounded-xl text-white text-sm">ğŸ“š</span> Penjelasan Lengkap</h3><!-- Interactive Accordion-like section -->
       <div class="space-y-3"><!-- Section 1 -->
        <div class="group"><button onclick="toggleAccordion(this)" class="w-full flex items-center justify-between p-3 bg-gradient-to-r from-[#667eea]/10 to-[#764ba2]/10 rounded-lg hover:from-[#667eea]/20 hover:to-[#764ba2]/20 transition-all">
          <div class="flex items-center gap-3 text-left">
           <div class="text-2xl">
            ğŸ§¬
           </div>
           <div>
            <p class="font-bold text-gray-800 text-sm">Struktur Molekul C=C</p>
            <p class="text-xs text-gray-600">Ikatan rangkap yang istimewa</p>
           </div>
          </div><span class="text-lg transition-transform group-hover:translate-x-1">â†’</span> </button>
         <div class="hidden accordion-content mt-2 pl-4 space-y-2">
          <div class="bg-white rounded-lg p-3 border-l-4 border-[#667eea]">
           <p class="text-gray-700 leading-relaxed mb-2 text-sm">Ikatan rangkap C=C terdiri dari <strong class="text-[#667eea]">2 komponen</strong>:</p>
           <div class="grid grid-cols-2 gap-2">
            <div class="bg-[#667eea]/10 rounded-lg p-2">
             <p class="font-bold text-[#667eea] text-xs mb-1">Ikatan Sigma (Ïƒ)</p>
             <p class="text-xs text-gray-600">Orbital sp<sup>2</sup>-sp<sup>2</sup> yang kuat dan stabil</p>
            </div>
            <div class="bg-red-100 rounded-lg p-2">
             <p class="font-bold text-red-600 text-xs mb-1">Ikatan Pi (Ï€)</p>
             <p class="text-xs text-gray-600">Orbital p-p yang mudah diputus</p>
            </div>
           </div>
          </div>
         </div>
        </div><!-- Section 3 -->
        <div class="group"><button onclick="toggleAccordion(this)" class="w-full flex items-center justify-between p-3 bg-gradient-to-r from-[#FFA500]/10 to-[#4ECDC4]/10 rounded-lg hover:from-[#FFA500]/20 hover:to-[#4ECDC4]/20 transition-all">
          <div class="flex items-center gap-3 text-left">
           <div class="text-2xl">
            âš—ï¸
           </div>
           <div>
            <p class="font-bold text-gray-800 text-sm">Reaksi Adisi</p>
            <p class="text-xs text-gray-600">Alasan alkena sangat reaktif</p>
           </div>
          </div><span class="text-lg transition-transform group-hover:translate-x-1">â†’</span> </button>
         <div class="hidden accordion-content mt-2 pl-4 space-y-2">
          <div class="bg-white rounded-lg p-3 border-l-4 border-[#4ECDC4]">
           <p class="text-gray-700 leading-relaxed mb-2 text-sm">Karena ikatan Ï€ mudah diputus, alkena mengalami <strong class="text-[#4ECDC4]">reaksi adisi</strong> - proses pembukaan ikatan rangkap.</p>
           <div class="bg-gradient-to-r from-[#4ECDC4]/10 to-[#7FD8BE]/10 rounded-lg p-2 font-mono text-center text-xs mb-2">
            <p classname="mb-1"><strong>Contoh:</strong></p>
            <p>CHâ‚‚=CHâ‚‚ + Hâ‚‚ â†’ CHâ‚ƒ-CHâ‚ƒ</p>
           </div>
           <div class="bg-[#7FD8BE]/20 rounded-lg p-2">
            <p class="text-xs text-[#4ECDC4] font-semibold">ğŸ“– Pelajari lebih lengkap di tab <strong>'Sifat Alkena'</strong></p>
           </div>
          </div>
         </div>
        </div>
       </div>
       <a href="visualisasi2.html" target="_blank" rel="noopener noreferrer" class="block w-full mt-4 py-3 text-center bg-gradient-to-r from-[#4ECDC4] to-[#44A8FF] text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all animate-pulse-glow">Visualisasi 3D</a>
      </div>
      <!-- FUN FACT BANNER - SMALLER -->
      <div class="relative overflow-hidden rounded-2xl shadow-md mb-6">
       <div class="absolute inset-0 bg-gradient-to-r from-[#667eea] via-[#764ba2] to-[#4ECDC4] opacity-90"></div>
       <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Ctext x=%2250%22 y=%2250%22 font-size=%2280%22 opacity=%220.1%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22%3EğŸ§ª%3C/text%3E%3C/svg%3E'); background-size: 200px; background-repeat: repeat;"></div>
       <div class="relative z-10 p-5">
        <div class="flex items-center gap-3">
         <div class="text-3xl">
          ğŸ’¡
         </div>
         <div>
          <p class="text-white font-bold text-lg mb-1">Fun Fact!</p>
          <p class="text-white/90 leading-relaxed text-sm">Alkena sering disebut <strong>olefin</strong> (pembentuk minyak). Bukan karena wujud aslinya berminyak, tetapi karena gas alkena dapat bereaksi dengan gas klorin menghasilkan cairan kental menyerupai minyak.</p>
         </div>
        </div>
       </div>
      </div>
      
      <!-- Rumus Umum Card -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span class="bg-[#FFD93D] p-2 rounded-xl">ğŸ“</span> Rumus Umum Alkena</h3>
       <div class="bg-gradient-to-r from-[#4ECDC4] to-[#7FD8BE] rounded-2xl p-8 text-center mb-4">
        <p class="text-4xl font-bold text-white mb-2">C<sub>n</sub>H<sub>2n</sub></p>
        <p class="text-white bg-white/20 inline-block px-4 py-1.5 rounded-full text-sm font-semibold mt-2 shadow-sm border border-white/30 tracking-wider">dimana n â‰¥ 2</p>
       </div>
      </div>
      
      <!-- Deret Homolog Table -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center justify-between gap-2">
        <div class="flex items-center gap-2"><span class="bg-[#7FD8BE] p-2 rounded-xl">ğŸ“Š</span> Deret Homolog Alkena
        </div><button onclick="showPopup('notasi')" class="bg-gradient-to-br from-[#44A8FF] to-[#4ECDC4] hover:from-[#3898ef] hover:to-[#3dbdb5] text-white p-2 rounded-full flex items-center justify-center transition-all hover:scale-110 shadow-lg hover:shadow-[0_0_20px_rgba(68,168,255,0.6)] animate-pulse-glow" title="Penjelasan notasi rumus">
         <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
         </svg></button></h3>
       <div class="overflow-x-auto -mx-2 sm:mx-0">
        <div class="px-2 sm:px-0">
         <table class="w-full text-[11px] sm:text-sm">
          <thead>
           <tr class="bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white">
            <th class="p-1.5 sm:p-3 rounded-tl-xl text-left">Nama</th>
            <th class="p-1.5 sm:p-3 text-left">Rumus</th>
            <th class="p-1.5 sm:p-3 text-center">Jumlah C</th>
            <th class="p-1.5 sm:p-3 rounded-tr-xl text-center">Rumus Struktur</th>
           </tr>
          </thead>
          <tbody class="text-gray-700">
           <tr class="table-row border-b border-gray-100">
            <td class="p-1.5 sm:p-3 font-medium">Etena</td>
            <td class="p-1.5 sm:p-3 font-mono">C<sub>2</sub>H<sub>4</sub></td>
            <td class="p-1.5 sm:p-3 text-center font-bold">2</td>
            <td class="p-1.5 sm:p-3 text-center font-mono text-[10px] sm:text-xs">CH<sub>2</sub>=CH<sub>2</sub></td>
           </tr>
           <tr class="table-row border-b border-gray-100">
            <td class="p-1.5 sm:p-3 font-medium">Propena</td>
            <td class="p-1.5 sm:p-3 font-mono">C<sub>3</sub>H<sub>6</sub></td>
            <td class="p-1.5 sm:p-3 text-center font-bold">3</td>
            <td class="p-1.5 sm:p-3 text-center font-mono text-[10px] sm:text-xs">CH<sub>2</sub>=CH-CH<sub>3</sub></td>
           </tr>
           <tr class="table-row border-b border-gray-100">
            <td class="p-1.5 sm:p-3 font-medium">1-Butena</td>
            <td class="p-1.5 sm:p-3 font-mono">C<sub>4</sub>H<sub>8</sub></td>
            <td class="p-1.5 sm:p-3 text-center font-bold">4</td>
            <td class="p-1.5 sm:p-3 text-center font-mono text-[10px] sm:text-xs">CH<sub>2</sub>=CH-CH<sub>2</sub>-CH<sub>3</sub></td>
           </tr>
           <tr class="table-row border-b border-gray-100">
            <td class="p-1.5 sm:p-3 font-medium">1-Pentena</td>
            <td class="p-1.5 sm:p-3 font-mono">C<sub>5</sub>H<sub>10</sub></td>
            <td class="p-1.5 sm:p-3 text-center font-bold">5</td>
            <td class="p-1.5 sm:p-3 text-center font-mono text-[10px] sm:text-xs">CH<sub>2</sub>=CH-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>3</sub></td>
           </tr>
           <tr class="table-row border-b border-gray-100">
            <td class="p-1.5 sm:p-3 font-medium">1-Heksena</td>
            <td class="p-1.5 sm:p-3 font-mono">C<sub>6</sub>H<sub>12</sub></td>
            <td class="p-1.5 sm:p-3 text-center font-bold">6</td>
            <td class="p-1.5 sm:p-3 text-center font-mono text-[10px] sm:text-xs">CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>3</sub>-CH<sub>3</sub></td>
           </tr>
           <tr class="table-row border-b border-gray-100">
            <td class="p-1.5 sm:p-3 font-medium">1-Heptena</td>
            <td class="p-1.5 sm:p-3 font-mono">C<sub>7</sub>H<sub>14</sub></td>
            <td class="p-1.5 sm:p-3 text-center font-bold">7</td>
            <td class="p-1.5 sm:p-3 text-center font-mono text-[10px] sm:text-xs">CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>4</sub>-CH<sub>3</sub></td>
           </tr>
           <tr class="table-row border-b border-gray-100">
            <td class="p-1.5 sm:p-3 font-medium">1-Oktena</td>
            <td class="p-1.5 sm:p-3 font-mono">C<sub>8</sub>H<sub>16</sub></td>
            <td class="p-1.5 sm:p-3 text-center font-bold">8</td>
            <td class="p-1.5 sm:p-3 text-center font-mono text-[10px] sm:text-xs">CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>5</sub>-CH<sub>3</sub></td>
           </tr>
           <tr class="table-row border-b border-gray-100">
            <td class="p-1.5 sm:p-3 font-medium">1-Nonena</td>
            <td class="p-1.5 sm:p-3 font-mono">C<sub>9</sub>H<sub>18</sub></td>
            <td class="p-1.5 sm:p-3 text-center font-bold">9</td>
            <td class="p-1.5 sm:p-3 text-center font-mono text-[10px] sm:text-xs">CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>6</sub>-CH<sub>3</sub></td>
           </tr>
           <tr class="table-row">
            <td class="p-1.5 sm:p-3 font-medium">1-Dekena</td>
            <td class="p-1.5 sm:p-3 font-mono">C<sub>10</sub>H<sub>20</sub></td>
            <td class="p-1.5 sm:p-3 text-center font-bold">10</td>
            <td class="p-1.5 sm:p-3 text-center font-mono text-[10px] sm:text-xs">CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>7</sub>-CH<sub>3</sub></td>
           </tr>
          </tbody>
         </table>
        </div>
       </div>
       <div class="mt-4 bg-[#FFD93D]/20 rounded-xl p-4">
        <p class="text-sm text-gray-700">ğŸ”¥ <strong>Pola Deret Homolog:</strong> Setiap anggota deret berturut-turut berbeda <strong>CH<sub>2</sub></strong>.</p>
       </div>
      </div>

      <!-- FUN FACT BANNER 2: ETILENA (NEW - MOVED TO BOTTOM) -->
      <div class="relative overflow-hidden rounded-2xl shadow-md mb-6">
       <div class="absolute inset-0 bg-gradient-to-r from-[#7FD8BE] via-[#4ECDC4] to-[#44A8FF] opacity-90"></div>
       <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Ctext x=%2250%22 y=%2250%22 font-size=%2280%22 opacity=%220.15%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22%3EğŸŒ%3C/text%3E%3C/svg%3E'); background-size: 150px; background-repeat: repeat;"></div>
       <div class="relative z-10 p-5">
        <div class="flex items-center gap-3">
         <div class="text-3xl drop-shadow-md">
          ğŸŒ
         </div>
         <div>
          <p class="text-gray-900 font-bold text-lg mb-1">Keajaiban Etilena (Pematang Buah)</p>
          <p class="text-gray-800 leading-relaxed text-sm">Pernahkah kamu memeram buah mentah agar cepat matang? Proses itu dibantu oleh gas <strong>etilena</strong> (nama IUPAC: <strong>etena</strong>, C<sub>2</sub>H<sub>4</sub>). Senyawa alkena paling sederhana ini berfungsi sebagai hormon alami tumbuhan yang memicu pematangan buah!</p>
         </div>
        </div>
       </div>
      </div>
      
      <!-- Navigasi Bawah Tab Mengenal Alkena -->
      <div class="flex justify-between mt-8 mb-4">
       <!-- Tombol Back ke Alkana -->
       <a href="alkana.html" class="flex items-stretch group cursor-pointer drop-shadow-md hover:drop-shadow-xl hover:-translate-x-2 transition-all duration-300">
        <div class="bg-gradient-to-l from-[#3b82f6] to-[#60a5fa] w-8 flex items-center justify-center relative" style="clip-path: polygon(8px 0, 100% 0, 100% 100%, 8px 100%, 0 50%);">
         <svg class="w-3 h-3 text-white absolute right-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
         </svg>
        </div>
        <div class="bg-[#111827] text-white font-bold px-3 py-1.5 rounded-r-md text-[10px] tracking-widest">
         Kembali: ALKANA
        </div>
       </a>

       <!-- Tombol Next ke Tab Tata Nama Alkena -->
       <button onclick="switchTab(2)" class="flex items-stretch group cursor-pointer drop-shadow-md hover:drop-shadow-xl hover:translate-x-2 transition-all duration-300">
        <div class="bg-[#111827] text-white font-bold px-3 py-1.5 rounded-l-md text-[10px] tracking-widest uppercase">
         Tata Nama Alkena
        </div>
        <div class="bg-gradient-to-r from-[#3b82f6] to-[#60a5fa] w-8 flex items-center justify-center relative" style="clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 50%, calc(100% - 8px) 100%, 0 100%);">
         <svg class="w-3 h-3 text-white absolute left-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
         </svg>
        </div>
       </button>
      </div>
     </div> <!-- TAG PENUTUP INI YANG SEBELUMNYA HILANG -->
      
      <!-- Tab 2: Tata Nama Alkena -->
     <div id="tab2" class="content-section hidden"><!-- Rantai Lurus -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span class="bg-gradient-to-br from-[#4ECDC4] to-[#44A8FF] p-2 rounded-xl text-white">1ï¸âƒ£</span> Tata Nama Alkena Rantai Lurus</h3>
       <div class="bg-gray-50 rounded-2xl p-4 sm:p-5 mb-4">
        <h4 class="font-semibold text-[#667eea] mb-3">ğŸ“œ Aturan Penamaan:</h4>
        <ol class="space-y-2 sm:space-y-3 text-gray-700 text-sm sm:text-base">
         <li class="flex items-start gap-2 sm:gap-3"><span class="bg-[#4ECDC4] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">1</span> <span class="pt-0.5 sm:pt-0">Tentukan rantai karbon terpanjang yang mengandung ikatan rangkap</span></li>
         <li class="flex items-start gap-2 sm:gap-3"><span class="bg-[#4ECDC4] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">2</span> <span class="pt-0.5 sm:pt-0">Penomoran dimulai dari ujung yang <strong>paling dekat</strong> dengan ikatan rangkap</span></li>
         <li class="flex items-start gap-2 sm:gap-3"><span class="bg-[#4ECDC4] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">3</span> <span class="pt-0.5 sm:pt-0">Nama = <strong>Nomor posisi ikatan rangkap - Nama alkena</strong></span></li>
         <li class="flex items-start gap-2 sm:gap-3"><span class="bg-[#4ECDC4] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">4</span>
          <div>
           <p class="pt-0.5 sm:pt-0">Apabila terdapat <strong>2 ikatan rangkap dua</strong>, senyawa alkena diberi nama dengan akhiran <strong>'-diena'</strong>. Jika mengandung <strong>3 ikatan rangkap dua</strong> disebut <strong>'-triena'</strong>, dan seterusnya</p><button onclick="showPopup('letak-diene')" class="inline-learn-btn mt-2 bg-gradient-to-r from-[#7FD8BE] to-[#4ECDC4] hover:from-[#6ac9ad] hover:to-[#3dbdb5] text-white px-3 py-2 rounded-lg font-medium text-xs sm:text-xs transition-all hover:scale-[1.02] shadow-md"> Pelajari: Letak Ikatan Rangkap Dua </button>
          </div></li>
        </ol>
       </div>
       <!-- Interactive Example -->
       <div class="bg-gradient-to-r from-[#667eea]/10 to-[#764ba2]/10 rounded-2xl p-3 sm:p-5">
        <h4 class="font-semibold text-[#667eea] mb-3">ğŸ“ Contoh Penamaan</h4>
        <div class="flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 mb-4"><button onclick="showExample('1-butena', this)" class="example-btn interactive-btn bg-[#4ECDC4] hover:bg-[#3dbdb5] text-white px-2.5 py-1.5 sm:px-4 sm:py-2 rounded-lg sm:rounded-xl text-[11px] sm:text-base font-medium font-mono shadow-md transition-all"> CH<sub>2</sub>=CH-CH<sub>2</sub>-CH<sub>3</sub> </button> <button onclick="showExample('2-butena', this)" class="example-btn interactive-btn bg-[#667eea] hover:bg-[#5a6fd6] text-white px-2.5 py-1.5 sm:px-4 sm:py-2 rounded-lg sm:rounded-xl text-[11px] sm:text-base font-medium font-mono shadow-md transition-all"> CH<sub>3</sub>-CH=CH-CH<sub>3</sub> </button> <button onclick="showExample('1,3,5-hexatriene', this)" class="example-btn interactive-btn bg-[#764ba2] hover:bg-[#6a4292] text-white px-2.5 py-1.5 sm:px-4 sm:py-2 rounded-lg sm:rounded-xl text-[11px] sm:text-base font-medium font-mono shadow-md transition-all"> CH<sub>2</sub>=CH-CH=CH-CH=CH<sub>2</sub> </button>
        </div>
        <div id="exampleDisplay" class="bg-white rounded-xl p-3 sm:p-4 min-h-[80px] transition-all duration-300">
         <p class="text-gray-500 text-center">ğŸ‘‰ Klik tombol di atas untuk melihat struktur!</p>
        </div>
       </div>
      </div><!-- Rantai Bercabang -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span class="bg-gradient-to-br from-[#FFA500] to-[#FFD93D] p-2 rounded-xl text-white">2ï¸âƒ£</span> Tata Nama Alkena Bercabang</h3>
       <div class="bg-gray-50 rounded-2xl p-4 sm:p-5 mb-4">
        <h4 class="font-semibold text-[#FFA500] mb-3">ğŸ“œ Langkah-langkah:</h4>
        <ol class="space-y-2 text-gray-700 text-sm sm:text-base">
         <li class="flex items-start gap-2"><span class="bg-[#FFA500] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">1</span> <span class="pt-0.5 sm:pt-0">Cari rantai utama <strong>terpanjang yang mengandung ikatan rangkap</strong></span></li>
         <li class="flex items-start gap-2"><span class="bg-[#FFA500] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">2</span> <span class="pt-0.5 sm:pt-0">Nomori dari ujung <strong>terdekat ikatan rangkap</strong></span></li>
         <li class="flex items-start gap-2"><span class="bg-[#FFA500] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">3</span> <span class="pt-0.5 sm:pt-0">Apabila ikatan rangkap dua berada pada nomor yang <strong>sama dari kanan maupun kiri</strong>, maka penomoran rantai induk dimulai dari ujung yang <strong>lebih dekat dengan cabang pertama</strong></span></li>
         <li class="flex items-start gap-2"><span class="bg-[#FFA500] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">4</span> <span class="pt-0.5 sm:pt-0">Nama: <strong>Nomor cabang - nama cabang - nomor posisi ikatan rangkap - nama alkena</strong></span></li>
         <li class="flex items-start gap-2"><span class="bg-[#FFA500] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">5</span> <span class="pt-0.5 sm:pt-0">Cabang disusun sesuai <strong>abjad</strong> (etil, metil, propil)</span></li>
         <li class="flex items-start gap-2"><span class="bg-[#FFA500] text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5 sm:mt-0">6</span> <span class="pt-0.5 sm:pt-0">Jika ada beberapa cabang sama: gunakan awalan <strong>di-, tri-, tetra-</strong></span></li>
        </ol>
       </div><!-- Interactive Naming Exercise -->
       <div class="bg-gradient-to-r from-[#FFA500]/10 to-[#FFD93D]/10 rounded-2xl p-3 sm:p-5">
        <h4 class="font-semibold text-[#FFA500] mb-3">âœï¸ Latihan Interaktif: Beri Nama Senyawa Ini!</h4>
        
        <div class="bg-white rounded-xl p-3 sm:p-4 mb-4 relative min-h-[350px]">
          <!-- Container untuk Kuis Dinamis -->
          <div id="quizContainer">
             <!-- SVG Structure akan dirender di sini -->
             <div id="quizStructure" class="flex justify-center mb-6 min-h-[140px] items-center transition-all duration-300"></div>
             
             <!-- Pilihan Jawaban -->
             <div id="quizOptions" class="flex flex-wrap gap-3 justify-center mb-4"></div>
             
             <!-- Feedback Area -->
             <div id="answerFeedback" class="text-center font-medium min-h-[20px]"></div>
             
             <!-- Tombol Next (Hidden by default) -->
             <div class="flex justify-center mt-4">
               <button id="nextQuestionBtn" onclick="nextQuestion()" class="hidden bg-gradient-to-r from-[#667eea] to-[#764ba2] hover:from-[#5a6fd6] hover:to-[#6a4292] text-white px-6 py-2 rounded-full font-bold shadow-lg transform transition hover:scale-105 flex items-center gap-2">
                 Soal Berikutnya <span>â†’</span>
               </button>
             </div>
          </div>
        </div>
       </div>
      </div>

      <!-- Navigasi Bawah Tab Tata Nama -->
      <div class="flex justify-between mt-8 mb-4">
       <!-- Tombol Back ke Tab Mengenal Senyawa Alkena -->
       <button onclick="switchTab(1)" class="flex items-stretch group cursor-pointer drop-shadow-md hover:drop-shadow-xl hover:-translate-x-2 transition-all duration-300">
        <div class="bg-gradient-to-l from-[#3b82f6] to-[#60a5fa] w-8 flex items-center justify-center relative" style="clip-path: polygon(8px 0, 100% 0, 100% 100%, 8px 100%, 0 50%);">
         <svg class="w-3 h-3 text-white absolute right-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
         </svg>
        </div>
        <div class="bg-[#111827] text-white font-bold px-3 py-1.5 rounded-r-md text-[10px] tracking-widest uppercase">
         MENGENAL ALKENA
        </div>
       </button>

       <!-- Tombol Next ke Tab Isomer Alkena -->
       <button onclick="switchTab(3)" class="flex items-stretch group cursor-pointer drop-shadow-md hover:drop-shadow-xl hover:translate-x-2 transition-all duration-300">
        <div class="bg-[#111827] text-white font-bold px-3 py-1.5 rounded-l-md text-[10px] tracking-widest uppercase">
         Isomer Alkena
        </div>
        <div class="bg-gradient-to-r from-[#3b82f6] to-[#60a5fa] w-8 flex items-center justify-center relative" style="clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 50%, calc(100% - 8px) 100%, 0 100%);">
         <svg class="w-3 h-3 text-white absolute left-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
         </svg>
        </div>
       </button>
      </div>

     </div><!-- Tab 4: Sifat Alkena -->
     <div id="tab4" class="content-section hidden"><!-- Sifat Fisik -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span class="bg-gradient-to-br from-[#44A8FF] to-[#4ECDC4] p-2 rounded-xl text-white">ğŸŒ¡ï¸</span> Sifat Fisik Alkena</h3>
       
       <div class="space-y-3">
        
        <!-- 1. Wujud -->
        <div class="group">
         <button onclick="toggleAccordion(this)" class="w-full flex items-center justify-between p-3 bg-gradient-to-r from-green-50 to-teal-50 rounded-lg hover:from-green-100 hover:to-teal-100 transition-all border border-teal-100">
          <div class="flex items-center gap-3 text-left">
           <div class="text-2xl">ğŸ§Š</div>
           <div>
            <p class="font-bold text-gray-800 text-sm">Wujud (Pada Suhu Kamar)</p>
            <p class="text-xs text-gray-600">Berdasarkan jumlah atom karbon</p>
           </div>
          </div>
          <span class="accordion-arrow text-lg transition-transform text-teal-600">â–¶</span>
         </button>
         <div class="hidden accordion-content mt-2 pl-4 space-y-2">
          <div class="bg-white rounded-lg p-3 border-l-4 border-[#7FD8BE]">
           <p class="text-gray-700 text-sm">
             <strong>C<sub>2</sub> - C<sub>4</sub></strong> : Gas<br>
             <strong>C<sub>5</sub> - C<sub>17</sub></strong> : Cair<br>
             <strong>C<sub>18</sub>+</strong> : Padat
           </p>
          </div>
         </div>
        </div>

        <!-- 2. Titik Didih & Leleh -->
        <div class="group">
         <button onclick="toggleAccordion(this)" class="w-full flex items-center justify-between p-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg hover:from-amber-100 hover:to-orange-100 transition-all border border-orange-100">
          <div class="flex items-center gap-3 text-left">
           <div class="text-2xl">ğŸ”¥</div>
           <div>
            <p class="font-bold text-gray-800 text-sm">Titik Didih & Leleh</p>
            <p class="text-xs text-gray-600">Pengaruh massa molekul dan cabang</p>
           </div>
          </div>
          <span class="accordion-arrow text-lg transition-transform text-orange-600">â–¶</span>
         </button>
         <div class="hidden accordion-content mt-2 pl-4 space-y-2">
          <div class="bg-white rounded-lg p-3 border-l-4 border-[#FFA500]">
           <div class="text-gray-600 text-sm space-y-2">
            <p>ğŸ“ˆ <strong>Hubungan dengan Mr:</strong> Berbanding lurus. Makin besar massa molekul relatif (Mr) atau jumlah atom C, makin tinggi titik didih & lelehnya.</p>
            <p>ğŸŒ¿ <strong>Efek Cabang:</strong> Isomer bercabang memiliki titik didih lebih rendah daripada rantai lurus (karena luas permukaan kontak berkurang).</p>
           </div>
          </div>
         </div>
        </div>

        <!-- 3. Kelarutan -->
        <div class="group">
         <button onclick="toggleAccordion(this)" class="w-full flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg hover:from-blue-100 hover:to-cyan-100 transition-all border border-blue-100">
          <div class="flex items-center gap-3 text-left">
           <div class="text-2xl">ğŸ’§</div>
           <div>
            <p class="font-bold text-gray-800 text-sm">Kelarutan</p>
            <p class="text-xs text-gray-600">Sifat kepolaran alkena</p>
           </div>
          </div>
          <span class="accordion-arrow text-lg transition-transform text-blue-600">â–¶</span>
         </button>
         <div class="hidden accordion-content mt-2 pl-4 space-y-2">
          <div class="bg-white rounded-lg p-3 border-l-4 border-[#44A8FF]">
           <p class="text-gray-600 text-sm">Tidak larut dalam air (non-polar), larut dalam pelarut organik, seperti eter dan benzena.</p>
          </div>
         </div>
        </div>

        <!-- 4. Massa Jenis -->
        <div class="group">
         <button onclick="toggleAccordion(this)" class="w-full flex items-center justify-between p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg hover:from-purple-100 hover:to-pink-100 transition-all border border-purple-100">
          <div class="flex items-center gap-3 text-left">
           <div class="text-2xl">âš¡</div>
           <div>
            <p class="font-bold text-gray-800 text-sm">Massa Jenis</p>
            <p class="text-xs text-gray-600">Perbandingan dengan air</p>
           </div>
          </div>
          <span class="accordion-arrow text-lg transition-transform text-purple-600">â–¶</span>
         </button>
         <div class="hidden accordion-content mt-2 pl-4 space-y-2">
          <div class="bg-white rounded-lg p-3 border-l-4 border-[#667eea]">
           <p class="text-gray-600 text-sm">Lebih ringan dari air (massa jenis &lt; 1 g/mL). Meningkat seiring bertambahnya Mr.</p>
          </div>
         </div>
        </div>

       </div>
      </div>

      <!-- Sifat Kimia -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span class="bg-gradient-to-br from-[#667eea] to-[#764ba2] p-2 rounded-xl text-white">âš—ï¸</span> Sifat Kimia Alkena</h3>
       <p class="text-gray-600 mb-4 text-sm leading-relaxed">Sifat kimia alkena ditentukan oleh adanya ikatan rangkap dua. Ikatan ini memungkinkan alkena mengalami perubahan struktur melalui berbagai reaksi kimia utama, di antaranya:</p>
       
       <!-- Reaksi Oksidasi (UPDATED TO ACCORDION) -->
       <div class="group mb-4">
        <button onclick="toggleAccordion(this)" class="w-full flex items-center justify-between p-4 bg-orange-50 border-l-4 border-[#FFA500] rounded-r-2xl rounded-l-md hover:bg-orange-100 transition-all cursor-pointer shadow-sm">
         <div class="flex items-center gap-3 text-left">
          <div class="text-2xl">ğŸ”¥</div>
          <div>
           <h4 class="font-bold text-[#FFA500] text-lg mb-0">1. Reaksi Oksidasi</h4>
           <p class="text-xs text-gray-600">Pembakaran & Uji Baeyer</p>
          </div>
         </div>
         <span class="accordion-arrow text-orange-600 text-lg transition-transform">â–¶</span>
        </button>
        <div class="hidden accordion-content mt-3 space-y-3 sm:space-y-4 pl-0 sm:pl-4 border-l-0 sm:border-l sm:border-orange-200 ml-0 sm:ml-4">
          <!-- a. Pembakaran -->
          <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border-2 border-orange-200">
            <p class="font-bold text-[#FFA500] text-sm mb-1">a. Pembakaran Sempurna</p>
            <p class="text-xs text-gray-600 mb-2">Reaksi dengan oksigen berlebih menghasilkan gas CO<sub>2</sub> dan H<sub>2</sub>O.</p>
            
            <div class="bg-orange-50/50 rounded-lg p-3 font-mono text-xs md:text-sm text-center shadow-sm mb-2 overflow-x-auto">
              <div class="flex items-start justify-center gap-2 min-w-max">
                <div class="text-center">
                  <div>C<sub>2</sub>H<sub>4</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                  <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Etena</div>
                </div>
                <div class="pt-1">+</div>
                <div class="text-center">
                  <div>3O<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                  <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Oksigen</div>
                </div>
                <div class="pt-1 text-[#FFA500]">â†’</div>
                <div class="text-center">
                  <div>2CO<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                  <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Karbondioksida</div>
                </div>
                <div class="pt-1">+</div>
                <div class="text-center">
                  <div>2H<sub>2</sub>O <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                  <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Air</div>
                </div>
              </div>
            </div>
          </div>

          <!-- b. Oksidasi KMnO4 -->
          <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border-2 border-purple-200">
            <div class="flex justify-between items-start">
               <div>
                 <p class="font-bold text-purple-600 text-sm mb-1">b. Oksidasi oleh KMnO<sub>4</sub> (Uji Baeyer)</p>
                 <p class="text-xs text-gray-600 mb-2">Reaksi dengan larutan Kalium Permanganat dalam suasana dingin/basa menghasilkan <strong>Glikol</strong>.</p>
               </div>
               <span class="bg-purple-100 text-purple-700 text-[10px] font-bold px-2 py-1 rounded">Identifikasi</span>
            </div>
            
            <div class="bg-purple-50/50 rounded-lg p-3 font-mono text-xs md:text-sm text-center shadow-sm mb-3 overflow-x-auto">
              <div class="flex items-start justify-center gap-2 min-w-max">
                <div class="text-center">
                  <div>CH<sub>2</sub>=CH<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                  <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Etena</div>
                </div>
                <div class="pt-1 text-purple-600 font-bold">+ [O] <span class="text-blue-500 font-bold text-[10px]">(aq)</span> + H<sub>2</sub>O <span class="text-blue-500 font-bold text-[10px]">(l)</span></div>
                <div class="text-center mx-1">
                   <div class="text-purple-600">â†’</div>
                   <div class="text-[8px] text-gray-400">KMnO<sub>4</sub></div>
                </div>
                <div class="text-center">
                  <div>CH<sub>2</sub>OH-CH<sub>2</sub>OH <span class="text-blue-500 font-bold text-[10px]">(aq)</span></div>
                  <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">1,2-etanadiol<br>(Glikol)</div>
                </div>
              </div>
            </div>

            <!-- Penjelasan Detail [O] dan Glikol -->
            <div class="bg-purple-50 p-3 rounded-lg border border-purple-100 mb-3 text-xs text-gray-700 space-y-2">
                <p class="font-bold text-purple-800 border-b border-purple-200 pb-1 mb-1">ğŸ“ Catatan Kimia:</p>
                <ul class="list-disc pl-4 space-y-1">
                    <li><strong>[O] (Oksigen Nasen):</strong> Melambangkan atom oksigen yang disediakan oleh oksidator <strong>KMnO<sub>4</sub></strong>. Jadi, KMnO<sub>4</sub> adalah penyedia oksigennya.</li>
                    <li><strong>Glikol:</strong> Nama umum untuk senyawa alkohol yang memiliki <strong>dua gugus -OH</strong> (disebut juga <em>Diol</em>).</li>
                </ul>
            </div>

            <!-- Visual Change Info (Enhanced) -->
            <div class="bg-white rounded-xl p-3 border border-purple-200 shadow-sm">
               <p class="text-xs font-bold text-purple-800 mb-2 text-center border-b border-purple-100 pb-2">ğŸ” Hasil Pengamatan Laboratorium:</p>
               
               <div class="flex items-center justify-between gap-2 text-center mb-3">
                  <!-- Before -->
                  <div class="flex flex-col items-center flex-1">
                     <div class="w-10 h-10 rounded-full bg-purple-600 ring-4 ring-purple-100 shadow-sm mb-1 flex items-center justify-center text-white text-xs">ğŸ’œ</div>
                     <p class="text-[10px] font-bold text-gray-600">Warna Awal:<br>Ungu (KMnO<sub>4</sub>)</p>
                  </div>
                  
                  <!-- Arrow -->
                  <div class="text-gray-400 text-lg animate-pulse">â”</div>
                  
                  <!-- After -->
                  <div class="flex flex-col items-center flex-1">
                     <div class="w-10 h-10 rounded-full bg-[#5D4037] ring-4 ring-orange-100 shadow-sm mb-1 flex items-center justify-center text-white text-xs relative overflow-hidden">
                        <div class="absolute bottom-0 w-full h-1/2 bg-[#3E2723] opacity-50"></div> <!-- Sediment effect -->
                        ğŸ¤
                     </div>
                     <p class="text-[10px] font-bold text-gray-600">Hasil Akhir:<br>Endapan Coklat (MnO<sub>2</sub>)</p>
                  </div>
               </div>

               <div class="bg-green-50 p-2 rounded-lg border border-green-100 text-center">
                  <p class="text-[10px] text-green-800 leading-tight">
                     <strong>âœ… Artinya Reaksi Positif:</strong><br>
                     Jika warna ungu hilang dan muncul endapan coklat, ini membuktikan zat tersebut <strong>memiliki ikatan rangkap (Alkena)</strong> yang bereaksi dengan KMnO<sub>4</sub>.
                  </p>
               </div>
            </div>
          </div>
        </div> <!-- End of accordion-content -->
       </div> <!-- End of group Reaksi Oksidasi -->

       <!-- Reaksi Adisi (UPDATED TO ACCORDION) -->
       <div class="group mb-4">
        <button onclick="toggleAccordion(this)" class="w-full flex items-center justify-between p-4 bg-teal-50 border-l-4 border-[#4ECDC4] rounded-r-2xl rounded-l-md hover:bg-teal-100 transition-all cursor-pointer shadow-sm">
         <div class="flex items-center gap-3 text-left">
          <div class="text-2xl">â•</div>
          <div>
           <h4 class="font-bold text-[#4ECDC4] text-lg mb-0">2. Reaksi Adisi</h4>
           <p class="text-xs text-gray-600">Pemutusan ikatan rangkap (C=C â†’ C-C)</p>
          </div>
         </div>
         <span class="accordion-arrow text-teal-600 text-lg transition-transform">â–¶</span>
        </button>
        <div class="hidden accordion-content mt-3 pl-0 sm:pl-4 border-l-0 sm:border-l sm:border-teal-200 ml-0 sm:ml-4">
         <p class="text-gray-600 text-sm mb-3 sm:mb-4">Ciri khas alkena! Ikatan rangkap dua (C=C) terbuka menjadi ikatan tunggal (C-C) dengan masuknya atom lain.</p>
         
         <div class="space-y-3 sm:space-y-4">
          <!-- Hidrogenasi -->
          <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border-2 border-teal-200">
           <p class="font-bold text-[#667eea] text-sm mb-1">a. Adisi Hidrogen (Hidrogenasi)</p>
           <p class="text-xs text-gray-600 mb-2">Alkena berubah menjadi Alkana (jenuh). Membutuhkan katalis logam (Ni, Pt, Pd) dan suhu tinggi.</p>
           <div class="font-mono text-xs bg-gray-50 p-2 rounded text-center border border-gray-200 overflow-x-auto">
             <div class="flex items-start justify-center gap-3 min-w-max">
               <div class="text-center">
                 <div>CH<sub>2</sub>=CH<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Etena</div>
               </div>
               <div class="pt-1">+</div>
               <div class="text-center">
                 <div>H<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Hidrogen</div>
               </div>
               <div class="text-[#FFA500] text-center">
                 <div>â†’</div>
                 <div class="text-[9px]">(Ni, 140Â°C)</div>
               </div>
               <div class="text-center">
                 <div>CH<sub>3</sub>-CH<sub>3</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Etana</div>
               </div>
             </div>
           </div>
           <p class="text-xs text-gray-500 mt-1 italic">Contoh Industri: Pembuatan margarin padat dari minyak sayur cair.</p>
          </div>

          <!-- Halogenasi -->
          <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border-2 border-teal-200">
           <p class="font-bold text-[#667eea] text-sm mb-1">b. Adisi Halogen (Halogenasi)</p>
           <p class="text-xs text-gray-600 mb-2">Reaksi dengan F<sub>2</sub>, Cl<sub>2</sub>, Br<sub>2</sub>, I<sub>2</sub>. Sering digunakan untuk <strong class="text-teal-600">uji identifikasi</strong> ikatan rangkap.</p>
           <div class="font-mono text-xs bg-gray-50 p-2 rounded text-center border border-gray-200 overflow-x-auto">
             <div class="flex items-start justify-center gap-3 min-w-max">
               <div class="text-center">
                 <div>CH<sub>2</sub>=CH<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Etena</div>
               </div>
               <div class="pt-1">+</div>
               <div class="text-center">
                 <div>Br<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(aq)</span></div>
                 <div class="text-[10px] text-red-500 font-sans mt-1 font-bold">Bromin<br>(Merah Kecoklatan)</div>
               </div>
               <div class="pt-1 text-[#FFA500]">â†’</div>
               <div class="text-center">
                 <div>CH<sub>2</sub>Br-CH<sub>2</sub>Br <span class="text-blue-500 font-bold text-[10px]">(aq)</span></div>
                 <div class="text-[10px] text-gray-400 font-sans mt-1 font-bold">1,2-dibromoetana<br>(Tidak Berwarna)</div>
               </div>
             </div>
           </div>
           <p class="text-xs text-gray-500 mt-1 italic">Tanda positif: Warna merah kecoklatan air bromin menghilang (menjadi tidak berwarna).</p>
          </div>

          <!-- Asam Halida -->
          <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border-2 border-teal-200">
           <p class="font-bold text-[#667eea] text-sm mb-1">c. Adisi Asam Halida (HX)</p>
           <p class="text-xs text-gray-600 mb-2">Bereaksi dengan HCl, HBr, HI. Berlaku <strong class="text-purple-600">Aturan Markovnikov</strong>:</p>
           <div class="bg-yellow-50 p-2 rounded mb-2 border-l-2 border-yellow-400">
             <p class="text-xs text-yellow-800 italic">"Atom H dari HX akan terikat pada atom C rangkap yang sudah mengikat H lebih banyak ('Yang kaya H makin kaya')."</p>
           </div>
           <div class="font-mono text-xs bg-gray-50 p-2 rounded text-center border border-gray-200 overflow-x-auto">
             <div class="flex items-start justify-center gap-3 min-w-max">
               <div class="text-center">
                 <div>CH<sub>3</sub>-CH=CH<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Propena</div>
               </div>
               <div class="pt-1">+</div>
               <div class="text-center">
                 <div>HBr <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Asam Bromida</div>
               </div>
               <div class="pt-1 text-[#FFA500]">â†’</div>
               <div class="text-center">
                 <div>CH<sub>3</sub>-CHBr-CH<sub>3</sub> <span class="text-blue-500 font-bold text-[10px]">(l)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">2-bromopropana</div>
               </div>
             </div>
           </div>
           <p class="text-xs text-gray-500 mt-1">H masuk ke CH<sub>2</sub> (ujung), Br masuk ke CH (tengah) membentuk 2-bromopropana.</p>
          </div>

          <!-- Adisi Air -->
          <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border-2 border-teal-200">
           <p class="font-bold text-[#667eea] text-sm mb-1">d. Adisi Air (Hidrasi)</p>
           <p class="text-xs text-gray-600 mb-2">Menghasilkan alkohol. Membutuhkan katalis asam kuat (H<sup>+</sup>) seperti H<sub>2</sub>SO<sub>4</sub>.</p>
           <div class="font-mono text-xs bg-gray-50 p-2 rounded text-center border border-gray-200 overflow-x-auto">
             <div class="flex items-start justify-center gap-3 min-w-max">
               <div class="text-center">
                 <div>CH<sub>2</sub>=CH<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Etena</div>
               </div>
               <div class="pt-1">+</div>
               <div class="text-center">
                 <div>H<sub>2</sub>O <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Air (Uap)</div>
               </div>
               <div class="text-[#FFA500] text-center">
                 <div>â†’</div>
                 <div class="text-[9px]">(H<sup>+</sup>, 300Â°C)</div>
               </div>
               <div class="text-center">
                 <div>CH<sub>3</sub>-CH<sub>2</sub>OH <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                 <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Etanol</div>
               </div>
             </div>
           </div>
          </div>

          <!-- Polimerisasi (Merged) -->
        <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border-2 border-teal-200">
           <p class="font-bold text-[#667eea] text-sm mb-1">e. Polimerisasi (Adisi)</p>
           <p class="text-xs text-gray-600 mb-2">Reaksi penggabungan molekul-molekul kecil (monomer) menjadi molekul raksasa (polimer) dengan cara <strong>memutus ikatan rangkap</strong>.</p>
           
           <!-- Contoh Reaksi Polimerisasi -->
           <div class="space-y-3 mb-4">
             <!-- Contoh 1: Etena -->
             <div class="font-mono text-xs bg-gray-50 p-2 rounded text-center border border-gray-200 overflow-x-auto">
               <div class="flex items-start justify-center gap-3 min-w-max">
                 <div class="text-center">
                   <div>n CH<sub>2</sub>=CH<sub>2</sub> <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                   <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">n Etena<br>(Monomer)</div>
                 </div>
                 <div class="pt-1 text-[#FFA500]">â†’</div>
                 <div class="text-center">
                   <div>[-CH<sub>2</sub>-CH<sub>2</sub>-]<sub>n</sub> <span class="text-blue-500 font-bold text-[10px]">(s)</span></div>
                   <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Polietilena<br>(Polimer)</div>
                 </div>
               </div>
             </div>

             <!-- Contoh 2: PVC -->
             <div class="font-mono text-xs bg-gray-50 p-2 rounded text-center border border-gray-200 overflow-x-auto">
                 <div class="flex items-start justify-center gap-3 min-w-max">
                   <div class="text-center">
                     <div>n CH<sub>2</sub>=CHCl <span class="text-blue-500 font-bold text-[10px]">(g)</span></div>
                     <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Vinil Klorida</div>
                   </div>
                   <div class="pt-1 text-[#FFA500]">â†’</div>
                   <div class="text-center">
                     <div>[-CH<sub>2</sub>-CHCl-]<sub>n</sub> <span class="text-blue-500 font-bold text-[10px]">(s)</span></div>
                     <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Polivinil Klorida<br>(Plastik PVC)</div>
                   </div>
                 </div>
             </div>

             <!-- Contoh 3: Poliakrilonitril -->
             <div class="font-mono text-xs bg-gray-50 p-2 rounded text-center border border-gray-200 overflow-x-auto">
                 <div class="flex items-start justify-center gap-3 min-w-max">
                   <div class="text-center">
                     <div>n CH<sub>2</sub>=CH-CN <span class="text-blue-500 font-bold text-[10px]">(l)</span></div>
                     <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Akrilonitril</div>
                   </div>
                   <div class="pt-1 text-[#FFA500]">â†’</div>
                   <div class="text-center">
                     <div>[-CH<sub>2</sub>-CH(CN)-]<sub>n</sub> <span class="text-blue-500 font-bold text-[10px]">(s)</span></div>
                     <div class="text-[10px] text-gray-500 font-sans mt-1 font-bold">Poliakrilonitril<br>(Plastik Poliakrilonitril)</div>
                   </div>
                 </div>
             </div>
           </div>
           
           <!-- Bridge to SSI Section (Interactive Trigger) -->
           <div class="mt-5 pt-4 border-t border-dashed border-gray-200 text-center relative">
             <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-xl border border-yellow-100 shadow-sm relative z-0 mb-4">
                <p class="text-sm text-gray-700 italic font-medium leading-relaxed">
                  "Reaksi adisi di atas terlihat sederhana, tetapi perubahan dari <span class="text-red-500 font-bold border-b border-red-300">Ikatan Rangkap (Labil)</span> menjadi <span class="text-blue-600 font-bold border-b border-blue-300">Ikatan Tunggal Rantai Panjang (Stabil)</span> menciptakan dilema global..."
                </p>
             </div>
             
             <!-- Trigger Button with Glowing Effect -->
             <button id="startSimBtn" onclick="runPolymerSimulation()" class="group relative inline-flex items-center justify-center px-8 py-3 font-bold text-white transition-all duration-200 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600 hover:scale-105 shadow-lg z-10 animate-pulse-glow">
                 <span class="absolute inset-0 w-full h-full -mt-1 rounded-lg opacity-30 bg-gradient-to-b from-transparent via-transparent to-black"></span>
                 <span class="relative flex items-center gap-2">
                    Lihat Dampaknya ğŸ’¥
                 </span>
             </button>

             <!-- Arrow Animation pointing to button -->
             <div id="arrowHint" class="absolute left-1/2 transform -translate-x-1/2 -top-3 z-20 pointer-events-none animate-bounce">
                <div class="bg-white p-1 rounded-full shadow-md text-indigo-500">â¬‡ï¸</div>
             </div>
           </div>

           <!-- ANIMATION CONTAINER (Hidden initially) -->
           <div id="polymerAnimationArea" class="hidden mt-6 bg-slate-900 rounded-2xl p-6 text-center relative overflow-hidden text-white shadow-inner transition-all duration-500 min-h-[200px] flex items-center justify-center border-4 border-double border-slate-700">
               
               <!-- Scene 1: Chemical Level (Bonds Breaking) -->
               <div id="chemScene" class="w-full">
                   <p class="text-[10px] font-mono text-green-400 mb-4 tracking-widest uppercase bg-green-900/30 inline-block px-2 rounded">Level Mikroskopis</p>
                   
                   <!-- Monomers -->
                   <div id="monomersGroup" class="flex justify-center items-center gap-4 text-xl md:text-2xl font-bold font-mono transition-all duration-1000">
                       <div class="monomer flex items-center bg-white/5 p-2 rounded border border-white/10">
                           <span>CH<sub>2</sub></span><span class="double-bond text-red-500 mx-1 animate-pulse">=</span><span>CH<sub>2</sub></span>
                       </div>
                       <div class="monomer flex items-center bg-white/5 p-2 rounded border border-white/10">
                           <span>CH<sub>2</sub></span><span class="double-bond text-red-500 mx-1 animate-pulse">=</span><span>CH<sub>2</sub></span>
                       </div>
                   </div>

                   <!-- Polymer Chain (Hidden initially) -->
                   <div id="polymerChain" class="hidden">
                       <div class="text-3xl font-bold font-mono text-cyan-400 tracking-tighter animate-pulse scale-110 transform transition-transform">
                           ...â€”CH<sub>2</sub>â€”CH<sub>2</sub>â€”CH<sub>2</sub>â€”CH<sub>2</sub>â€”...
                       </div>
                       <p class="text-xs text-slate-400 mt-2 italic">Rantai tersambung kuat!</p>
                   </div>
               </div>

               <!-- Scene 2: Product Morph (Cloud to Plastic) -->
               <div id="morphScene" class="hidden absolute inset-0 w-full h-full flex flex-col justify-center items-center bg-slate-900 z-10">
                   <p class="text-[10px] font-mono text-yellow-400 mb-4 tracking-widest uppercase bg-yellow-900/30 inline-block px-2 rounded">Level Makroskopis</p>
                   
                   <div class="relative w-32 h-32 flex justify-center items-center mb-2">
                       <!-- Gas Icon -->
                       <div id="gasIcon" class="text-7xl absolute transition-all duration-1000 transform scale-100 opacity-100 filter blur-sm">â˜ï¸</div>
                       
                       <!-- Plastic Icon (Bottle) - REPLACED BAG WITH BOTTLE SVG -->
                       <div id="plasticIcon" class="absolute transition-all duration-1000 transform scale-50 opacity-0">
                         <svg width="80" height="120" viewBox="0 0 60 100" fill="none" stroke="currentColor" class="text-blue-300 drop-shadow-[0_0_15px_rgba(59,130,246,0.6)]">
                             <defs>
                                 <linearGradient id="waterGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                     <stop offset="0%" style="stop-color:#60a5fa;stop-opacity:0.6" />
                                     <stop offset="100%" style="stop-color:#2563eb;stop-opacity:0.8" />
                                 </linearGradient>
                             </defs>
                             <!-- Cap -->
                             <rect x="22" y="2" width="16" height="6" rx="1" fill="#ef4444" stroke="none" />
                             <!-- Bottle Shape Outline -->
                             <path d="M24 8 L36 8 L40 20 L45 30 L45 90 Q45 98 30 98 Q15 98 15 90 L15 30 L20 20 Z" stroke="#93c5fd" stroke-width="2" fill="rgba(255,255,255,0.1)"/>
                             <!-- Water inside -->
                             <path d="M16 50 Q30 45 44 50 L44 90 Q44 97 30 97 Q16 97 16 90 Z" fill="url(#waterGrad)" stroke="none"/>
                             <!-- Label Area -->
                             <rect x="16" y="55" width="28" height="15" fill="white" fill-opacity="0.7" stroke="none"/>
                             <!-- Reflection/Shine -->
                             <path d="M18 30 Q20 30 20 80" stroke="white" stroke-width="1" stroke-opacity="0.4" fill="none"/>
                         </svg>
                       </div>
                   </div>
                   
                   <p id="successLabel" class="font-black text-lg text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-teal-400 opacity-0 transition-opacity duration-500 tracking-wide scale-0 transform transition-transform">
                       POLIETILENA TERBENTUK!
                   </p>
               </div>
           </div>

          </div>

          <!-- SSI Box: Dilema Plastik (Initially Hidden) -->
          <div id="ssiSection" class="hidden mt-4 border border-gray-200 rounded-2xl shadow-lg overflow-hidden bg-white group hover:shadow-2xl transition-all duration-1000 opacity-0 transform translate-y-10">
             <!-- Header Fixed -->
             <div class="bg-gradient-to-r from-gray-800 to-gray-900 p-3 sm:p-4 flex items-center gap-2 sm:gap-3 relative overflow-hidden">
                <!-- Abstract Pattern Overlay -->
                <div class="absolute top-0 right-0 w-20 h-20 bg-white/5 rounded-full -mr-10 -mt-10 blur-xl"></div>
                <span class="text-2xl sm:text-3xl relative z-10 animate-pulse">âš–ï¸</span>
                <div class="relative z-10">
                   <h4 class="text-white font-bold text-sm sm:text-base md:text-lg leading-tight">Dilema Plastik: Berkah atau Musibah?</h4>
                   <p class="text-gray-400 text-[9px] sm:text-[10px] uppercase tracking-wider font-semibold mt-0.5 sm:mt-1">Analisis Sosio-Saintifik Issue (SSI)</p>
                </div>
             </div>
             
             <!-- Scrollable Content with Stepper -->
             <div class="max-h-[500px] overflow-y-auto p-2.5 sm:p-4 md:p-6 bg-gray-50 custom-scrollbar text-sm leading-relaxed scroll-smooth relative">
                
                <!-- Stepper Navigation -->
                <div class="relative max-w-xs mx-auto mb-6 mt-2 px-2">
                   <!-- Progress Line Background -->
                   <div class="absolute left-0 right-0 top-2.5 transform -translate-y-1/2 h-1 bg-gray-200 z-0 rounded-full mx-8 md:mx-10"></div>
                   <!-- Progress Line Active -->
                   <div id="stepperProgress" class="absolute left-0 top-2.5 transform -translate-y-1/2 h-1 bg-indigo-500 z-0 transition-all duration-500 rounded-full mx-8 md:mx-10" style="width: 0%;"></div>
                   
                   <div class="flex justify-between relative z-10">
                      <!-- Step 1 -->
                      <div id="stepNav1" class="flex flex-col items-center w-1/4 cursor-pointer group" onclick="goToSsiStep(1)">
                          <div id="stepDot1" class="w-5 h-5 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold border-[1.5px] border-gray-50 shadow-md scale-110 transition-all duration-300 text-[8px]">1</div>
                          <p id="stepLabel1" class="text-[8px] md:text-[9px] font-bold text-indigo-600 mt-1.5 uppercase tracking-wider text-center leading-tight">Realitas</p>
                      </div>
                      <!-- Step 2 -->
                      <div id="stepNav2" class="flex flex-col items-center w-1/4 cursor-not-allowed opacity-50 group" onclick="goToSsiStep(2)">
                          <div id="stepDot2" class="w-5 h-5 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-bold border-[1.5px] border-gray-50 shadow-sm transition-all duration-300 text-[8px]">2</div>
                          <p id="stepLabel2" class="text-[8px] md:text-[9px] font-bold text-gray-400 mt-1.5 uppercase tracking-wider text-center leading-tight">Investigasi<br>Sains</p>
                      </div>
                      <!-- Step 3 -->
                      <div id="stepNav3" class="flex flex-col items-center w-1/4 cursor-not-allowed opacity-50 group" onclick="goToSsiStep(3)">
                          <div id="stepDot3" class="w-5 h-5 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-bold border-[1.5px] border-gray-50 shadow-sm transition-all duration-300 text-[8px]">3</div>
                          <p id="stepLabel3" class="text-[8px] md:text-[9px] font-bold text-gray-400 mt-1.5 uppercase tracking-wider text-center leading-tight">Zona<br>Konflik</p>
                      </div>
                      <!-- Step 4 -->
                      <div id="stepNav4" class="flex flex-col items-center w-1/4 cursor-not-allowed opacity-50 group" onclick="goToSsiStep(4)">
                          <div id="stepDot4" class="w-5 h-5 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-bold border-[1.5px] border-gray-50 shadow-sm transition-all duration-300 text-[8px]">4</div>
                          <p id="stepLabel4" class="text-[8px] md:text-[9px] font-bold text-gray-400 mt-1.5 uppercase tracking-wider text-center leading-tight">Ambil<br>Sikap</p>
                      </div>
                   </div>
                </div>

                <!-- STEP 1: REALITAS -->
                <div id="ssiStep1" class="ssi-step-content block animate-[popIn_0.4s_ease-out]">
                   <div class="bg-white p-3 sm:p-5 md:p-6 rounded-2xl shadow-sm border border-gray-100">
                       
                       <!-- Judul -->
                       <div class="flex flex-col items-center justify-center gap-2 mb-5 border-b border-gray-100 pb-4 text-center">
                           <div class="w-10 h-10 rounded-full bg-red-100 text-red-500 flex items-center justify-center text-xl shrink-0">
                               ğŸš¨
                           </div>
                           <h5 class="text-base md:text-lg font-bold text-gray-800 leading-snug">
                               Niat Praktis Sesaat, Berujung Krisis Ratusan Tahun?
                           </h5>
                       </div>

                       <!-- Video Embedded -->
                       <div class="w-full sm:w-[90%] mx-auto mb-5">
                           <div class="relative w-full pb-[56.25%] h-0 rounded-xl overflow-hidden shadow-md border border-gray-200 bg-slate-900 group">
                               <iframe class="absolute top-0 left-0 w-full h-full" src="https://www.youtube.com/embed/oauo-QB5J5w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                           </div>
                       </div>

                       <!-- Konteks Teks -->
                       <div class="bg-gray-50 p-4 rounded-xl border border-gray-200 mb-5 text-sm text-gray-700 leading-relaxed text-justify">
                           Video di atas menunjukkan bahwa polusi plastik kini tidak lagi hanya menumpuk di selokan. <strong>Partikel mikroplastik</strong> telah menyusup jauh ke dalam tubuh kita, bahkan ditemukan di <strong>jaringan otak</strong> dan organ <strong>reproduksi manusia</strong>.
                       </div>

                       <!-- Highlight Fakta (Kartu Grid/List) -->
                       <div class="space-y-3 mb-6">
                           <!-- Poin 1 -->
                           <div class="flex items-start gap-4 bg-yellow-50 hover:bg-yellow-100 transition-colors p-3 rounded-xl border border-yellow-200 shadow-sm">
                               <div class="text-2xl mt-0.5 shrink-0 drop-shadow-sm">âš ï¸</div>
                               <p class="text-xs md:text-sm text-gray-700 leading-relaxed">
                                   <strong>Mikroplastik</strong> (partikel &lt; 5mm) kini menyebar luas di air minum, makanan, hingga ikut turun bersama air hujan.
                               </p>
                           </div>
                           
                           <!-- Poin 2 -->
                           <div class="flex items-start gap-4 bg-blue-50 hover:bg-blue-100 transition-colors p-3 rounded-xl border border-blue-200 shadow-sm">
                               <div class="text-2xl mt-0.5 shrink-0 drop-shadow-sm">ğŸŒŠ</div>
                               <p class="text-xs md:text-sm text-gray-700 leading-relaxed">
                                   Aktivitas mencuci 6 kg baju berbahan sintetis melepaskan sekitar <strong>700.000 serat mikroplastik</strong> ke perairan yang kini telah meracuni lebih dari 100 spesies hewan.
                               </p>
                           </div>

                           <!-- Poin 3 -->
                           <div class="flex items-start gap-4 bg-purple-50 hover:bg-purple-100 transition-colors p-3 rounded-xl border border-purple-200 shadow-sm">
                               <div class="text-2xl mt-0.5 shrink-0 drop-shadow-sm">ğŸ§ª</div>
                               <p class="text-xs md:text-sm text-gray-700 leading-relaxed">
                                   Botol plastik minuman (PET) butuh waktu hingga <strong>450 tahun</strong> untuk terurai karena ikatan rantai karbonnya yang sangat kuat.
                               </p>
                           </div>
                       </div>

                       <!-- Final Quote Box (Call to Action) -->
                       <div class="bg-gradient-to-r from-red-50 to-orange-50 p-5 rounded-xl border-l-4 border-red-500 shadow-inner relative overflow-hidden">
                           <div class="absolute -top-4 -left-2 text-6xl text-red-500/10 font-serif">"</div>
                           <p class="text-sm md:text-base font-bold text-red-800 text-center italic relative z-10">
                               "Apakah kenyamanan sesaat ini sebanding dengan risiko yang ditinggalkan bagi masa depan?"
                           </p>
                       </div>

                   </div>
                </div>

                <!-- STEP 2: INVESTIGASI SAINS -->
                <div id="ssiStep2" class="ssi-step-content hidden animate-[popIn_0.4s_ease-out]">
                   <div class="bg-white p-3 sm:p-5 rounded-2xl shadow-sm border border-gray-100">
                      <p class="text-sm font-bold text-gray-800 mb-3 border-b border-gray-100 pb-2 text-center">ğŸ” Mengapa Plastik Sangat Sulit Terurai?</p>
                      <p class="text-xs text-gray-600 mb-3 text-justify">
                         Hal tersebut disebabkan oleh <strong>Reaksi Polimerisasi Adisi</strong>. Proses ini mengubah gas etena (monomer dengan ikatan rangkap yang reaktif) menjadi rantai karbon padat super panjang dengan <strong>Ikatan Kovalen Tunggal (Câˆ’C)</strong> yang sangat kuat.
                      </p>
                      
                      <!-- Persamaan Reaksi -->
                      <div class="font-mono text-center text-sm font-bold text-indigo-700 bg-indigo-50/50 border border-indigo-100 p-2 rounded-lg mb-4 shadow-sm">
                         n(CH<sub>2</sub>=CH<sub>2</sub>) â†’ [â€”CH<sub>2</sub>â€”CH<sub>2</sub>â€”]<sub>n</sub>
                      </div>
                      
                      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                         <div class="bg-blue-50 p-4 rounded-xl border border-blue-100 shadow-sm relative overflow-hidden">
                           <div class="absolute -right-2 -bottom-2 text-5xl opacity-10">ğŸ§±</div>
                           <p class="font-bold text-blue-800 text-xs uppercase mb-2">Sifat Fisik</p>
                           <ul class="text-xs text-blue-900 space-y-2 list-disc pl-4">
                             <li><strong>Massa Jenis Rendah:</strong> Ringan; mudah hanyut hingga ke laut dalam.</li>
                             <li><strong>Kekuatan Tinggi:</strong> Kokoh meski tipis; efisien sebagai kemasan.</li>
                             <li><strong>Hidrofobik:</strong> Kedap air; ideal untuk wadah cairan & medis.</li>
                           </ul>
                         </div>
                         <div class="bg-red-50 p-4 rounded-xl border border-red-100 shadow-sm relative overflow-hidden">
                           <div class="absolute -right-2 -bottom-2 text-5xl opacity-10">ğŸ›¡ï¸</div>
                           <p class="font-bold text-red-800 text-xs uppercase mb-2">Sifat Kimia</p>
                           <ul class="text-xs text-red-900 space-y-2 list-disc pl-4">
                             <li><strong>Ikatan Câˆ’C Tunggal:</strong> Sangat stabil; sulit terputus secara alami.</li>
                             <li><strong>Inert:</strong> Tidak reaktif; tahan korosi, asam, dan basa.</li>
                             <li><strong class="text-red-700">Tanpa Enzim Pengurai:</strong> Tidak bisa didegradasi oleh mikroba alam.</li>
                           </ul>
                         </div>
                      </div>
                   </div>
                </div>

                <!-- STEP 3: ZONA KONFLIK -->
                <div id="ssiStep3" class="ssi-step-content hidden animate-[popIn_0.4s_ease-out]">
                   <div class="bg-white p-3 sm:p-5 rounded-2xl shadow-sm border border-gray-100">
                      
                      <!-- Kalimat Pengantar -->
                      <div class="bg-indigo-50/50 border-l-4 border-indigo-500 p-3 rounded-r-xl mb-5">
                         <p class="text-sm text-gray-700 font-medium text-center">
                            Stabilitas struktur kimia ini menimbulkan dilema antara manfaat industri dan kelestarian alam:
                         </p>
                      </div>

                      <!-- Tabel Perbandingan -->
                      <div class="overflow-x-auto rounded-xl border border-purple-200 shadow-sm">
                         <table class="w-full text-left text-[10px] sm:text-xs border-collapse min-w-[400px] lg:min-w-[600px]">
                            <thead>
                               <tr class="bg-purple-100 text-purple-900 border-b border-purple-200">
                                  <th class="p-1 font-bold w-1/5 border-r border-purple-200 text-center leading-snug">Sudut Pandang<br>(Dimensi)</th>
                                  <th class="p-1.5 sm:p-2 font-bold w-2/5 border-r border-purple-200 bg-blue-50/50">
                                     <div class="flex items-center gap-1.5 text-blue-800">
                                        <span class="text-sm sm:text-base">ğŸ­</span> Produsen & Pelaku Industri
                                     </div>
                                  </th>
                                  <th class="p-1.5 sm:p-2 font-bold w-2/5 bg-orange-50/50">
                                     <div class="flex items-center gap-1.5 text-orange-800">
                                        <span class="text-sm sm:text-base">ğŸ¥</span> Pakar Kesehatan & Lingkungan
                                     </div>
                                  </th>
                               </tr>
                            </thead>
                            <tbody class="divide-y divide-purple-100">
                               <!-- Baris 1: Ekonomi -->
                               <tr class="hover:bg-purple-50/30 transition-colors">
                                  <td class="p-1 font-bold text-purple-800 border-r border-purple-200 align-top text-center bg-purple-50">
                                     <span class="block text-sm sm:text-base mb-0.5">ğŸ’°</span> Ekonomi
                                  </td>
                                  <td class="p-1.5 sm:p-2 border-r border-purple-100 align-top bg-blue-50/10">
                                     <strong class="text-blue-700">Murah & Efisien:</strong> Menjaga harga kebutuhan pokok tetap terjangkau.
                                  </td>
                                  <td class="p-1.5 sm:p-2 align-top bg-orange-50/10">
                                     <strong class="text-orange-700">Beban Masa Depan:</strong> Kerusakan alam dan biaya pengobatan akibat mikroplastik jauh lebih mahal.
                                  </td>
                               </tr>
                               <!-- Baris 2: Teknologi -->
                               <tr class="hover:bg-purple-50/30 transition-colors">
                                  <td class="p-1 font-bold text-purple-800 border-r border-purple-200 align-top text-center bg-purple-50">
                                     <span class="block text-sm sm:text-base mb-0.5">âš™ï¸</span> Teknologi
                                  </td>
                                  <td class="p-1.5 sm:p-2 border-r border-purple-100 align-top bg-blue-50/10">
                                     <strong class="text-blue-700">Stabil & Steril:</strong> Ikatan Câˆ’C menjamin keamanan kemasan obat dan pangan.
                                  </td>
                                  <td class="p-1.5 sm:p-2 align-top bg-orange-50/10">
                                     <strong class="text-orange-700">Keterbatasan Filtrasi:</strong> Belum ada teknologi yang mampu menyaring mikroplastik di air dan udara.
                                  </td>
                               </tr>
                               <!-- Baris 3: Etika -->
                               <tr class="hover:bg-purple-50/30 transition-colors">
                                  <td class="p-1 font-bold text-purple-800 border-r border-purple-200 align-top text-center bg-purple-50">
                                     <span class="block text-sm sm:text-base mb-0.5">ğŸ¤</span> Etika
                                  </td>
                                  <td class="p-1.5 sm:p-2 border-r border-purple-100 align-top bg-blue-50/10">
                                     <strong class="text-blue-700">Edukasi Perilaku:</strong> Masalah utama adalah kedisiplinan manusia membuang sampah.
                                  </td>
                                  <td class="p-1.5 sm:p-2 align-top bg-orange-50/10">
                                     <strong class="text-orange-700">Etika Produksi:</strong> Tidak adil membuat barang sekali pakai yang merusak selamanya.
                                  </td>
                               </tr>
                               <!-- Baris 4: Lingkungan -->
                               <tr class="hover:bg-purple-50/30 transition-colors">
                                  <td class="p-1 font-bold text-purple-800 border-r border-purple-200 align-top text-center bg-purple-50">
                                     <span class="block text-sm sm:text-base mb-0.5">ğŸŒ¿</span> Lingkungan
                                  </td>
                                  <td class="p-1.5 sm:p-2 border-r border-purple-100 align-top bg-blue-50/10">
                                     <strong class="text-blue-700">Bisa Didaur Ulang:</strong> Plastik dapat diolah kembali menjadi berbagai produk baru.
                                  </td>
                                  <td class="p-1.5 sm:p-2 align-top bg-orange-50/10">
                                     <strong class="text-orange-700">Polusi Rantai Makanan:</strong> Nyatanya, &lt; 10% plastik didaur ulang; sisanya mencemari tanah, laut, hingga udara.
                                  </td>
                               </tr>
                            </tbody>
                         </table>
                      </div>
                   </div>
                </div>

                <!-- STEP 4: AMBIL SIKAP -->
                <div id="ssiStep4" class="ssi-step-content hidden animate-[popIn_0.4s_ease-out]">
                   <div class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-3 sm:p-4 md:p-6 text-white shadow-xl relative overflow-hidden">
                       <!-- Decor -->
                       <div class="absolute -left-10 -bottom-10 w-40 h-40 bg-indigo-500 opacity-10 rounded-full blur-3xl"></div>
                       <div class="absolute right-0 top-0 w-32 h-32 bg-[#FFD93D] opacity-5 rounded-full blur-2xl"></div>
                       
                       <div class="relative z-10">
                           <h5 class="font-bold mb-2 flex items-center gap-2 text-[#FFD93D] text-base md:text-lg">
                             <span class="text-2xl">ğŸ†</span> TANTANGAN UNTUK KAMU
                           </h5>
                           
                           <div class="bg-white/10 p-4 rounded-xl border border-white/10 mb-6 backdrop-blur-sm">
                              <p class="text-xs text-gray-200 leading-relaxed mb-3 text-justify">
                                 Mang Tempura menjual jajanan di depan sekolah. Meskipun sudah ditiriskan, tempura yang masih panas dan berminyak langsung dimasukkan ke kantong plastik bening (HDPE). <strong>Suhu tinggi dan residu minyak mempercepat lepasnya zat aditif dari rantai polimer plastik ke makanan.</strong>
                              </p>
                              <p class="text-sm font-bold text-white text-center border-t border-white/10 pt-3">
                                 Apa tindakanmu? <br><span class="text-[10px] font-normal text-indigo-300">(Klik kartu di bawah untuk melihat refleksi di baliknya)</span>
                              </p>
                           </div>

                           <!-- Flip Cards Container -->
                           <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                              
                              <!-- KARTU A -->
                              <div class="perspective-1000">
                                 <div class="relative w-full h-64 md:h-72 cursor-pointer group" onclick="this.querySelector('.flip-card-inner').classList.toggle('rotate-y-180')">
                                    <div class="flip-card-inner w-full h-full transition-transform duration-700 transform-style-3d relative">
                                        <!-- Front -->
                                        <div class="absolute inset-0 w-full h-full backface-hidden rounded-xl shadow-md border-b-4 border-[#FFD93D] p-5 flex flex-col justify-center items-center text-center bg-cover bg-center" style="background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)), url('https://cdn1.productnation.co/stg/sites/5/65c0572712f8d.jpg');">
                                           <div class="w-10 h-10 rounded-full bg-[#FFD93D]/90 text-slate-900 font-black flex items-center justify-center mb-4 text-lg backdrop-blur-sm shadow-lg">A</div>
                                           <p class="text-xs md:text-sm font-medium text-gray-100 leading-relaxed drop-shadow-md">
                                              Bawa wadah sendiri dari rumah (kotak makan stainless/kaca) dan hanya membeli jika membawa wadah tersebut.
                                           </p>
                                           <span class="mt-auto text-[9px] text-[#FFD93D] font-bold bg-black/50 backdrop-blur-md px-3 py-1 rounded-full uppercase tracking-wider border border-[#FFD93D]/30 mb-1.5">Balik Kartu â†º</span>
                                           <span class="text-[8px] text-gray-300">Sumber: <i>productnation.co</i></span>
                                        </div>
                                        <!-- Back -->
                                        <div class="absolute inset-0 w-full h-full backface-hidden rotate-y-180 bg-gradient-to-b from-[#F59E0B] to-[#D97706] rounded-xl shadow-md p-4 flex flex-col justify-center">
                                           <!-- Fakta / Konsekuensi Box -->
                                           <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-3 mb-3 shadow-inner relative text-left">
                                              <div class="text-[9px] font-black text-yellow-100 uppercase tracking-widest mb-1.5 flex items-center gap-1">
                                                 <span class="text-sm">ğŸ“Œ</span> Konsekuensi
                                              </div>
                                              <p class="text-[10px] md:text-xs text-white leading-relaxed font-medium">
                                                 Membawa wadah setiap hari butuh disiplin tinggi.
                                              </p>
                                           </div>
                                           <!-- Pertanyaan Refleksi -->
                                           <div class="text-left border-l-2 border-yellow-200 pl-3">
                                              <p class="text-[9px] font-black text-yellow-100 uppercase tracking-widest mb-1">ğŸ¤” Refleksi</p>
                                              <p class="text-[10px] md:text-xs text-yellow-50 font-bold leading-relaxed italic drop-shadow-sm">
                                                 "Jika kamu lupa membawa wadah saat sedang sangat lapar, apakah kamu konsisten dengan prinsipmu atau akhirnya 'menyerah' pada plastik? Apakah kesehatanmu bergantung pada persiapan alatmu?"
                                              </p>
                                           </div>
                                        </div>
                                    </div>
                                 </div>
                              </div>

                              <!-- KARTU B -->
                              <div class="perspective-1000">
                                 <div class="relative w-full h-64 md:h-72 cursor-pointer group" onclick="this.querySelector('.flip-card-inner').classList.toggle('rotate-y-180')">
                                    <div class="flip-card-inner w-full h-full transition-transform duration-700 transform-style-3d relative">
                                        <!-- Front -->
                                        <div class="absolute inset-0 w-full h-full backface-hidden rounded-xl shadow-md border-b-4 border-[#4ECDC4] p-5 flex flex-col justify-center items-center text-center bg-cover bg-center" style="background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)), url('https://eranasional.com/wp-content/uploads/2026/02/Ilustrasi-kertas-coklat-atau-kertas-minyak-untuk-membungkus-makanan.webp');">
                                           <div class="w-10 h-10 rounded-full bg-[#4ECDC4]/90 text-slate-900 font-black flex items-center justify-center mb-4 text-lg backdrop-blur-sm shadow-lg">B</div>
                                           <p class="text-xs md:text-sm font-medium text-gray-100 leading-relaxed drop-shadow-md">
                                              Usulkan Mang Tempura menggunakan kemasan kertas minyak atau kantong pati singkong (bio-plastic).
                                           </p>
                                           <span class="mt-auto text-[9px] text-[#4ECDC4] font-bold bg-black/50 backdrop-blur-md px-3 py-1 rounded-full uppercase tracking-wider border border-[#4ECDC4]/30 mb-1.5">Balik Kartu â†º</span>
                                           <span class="text-[8px] text-gray-300">Sumber: <i>eranasional.com</i></span>
                                        </div>
                                        <!-- Back -->
                                        <div class="absolute inset-0 w-full h-full backface-hidden rotate-y-180 bg-gradient-to-b from-[#14B8A6] to-[#0F766E] rounded-xl shadow-md p-4 flex flex-col justify-center">
                                           <!-- Fakta / Konsekuensi Box -->
                                           <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-3 mb-3 shadow-inner relative text-left">
                                              <div class="text-[9px] font-black text-teal-100 uppercase tracking-widest mb-1.5 flex items-center gap-1">
                                                 <span class="text-sm">ğŸ“Œ</span> Konsekuensi
                                              </div>
                                              <p class="text-[10px] md:text-[11px] text-white leading-relaxed font-medium">
                                                 Kertas minyak sering mengandung lapisan plastik tipis, sedangkan bio-plastic bisa meleleh kena minyak panas. Biayanya pun lebih mahal sehingga harga jajan bisa naik.
                                              </p>
                                           </div>
                                           <!-- Pertanyaan Refleksi -->
                                           <div class="text-left border-l-2 border-teal-200 pl-3">
                                              <p class="text-[9px] font-black text-teal-100 uppercase tracking-widest mb-1">ğŸ¤” Refleksi</p>
                                              <p class="text-[10px] md:text-xs text-teal-50 font-bold leading-relaxed italic drop-shadow-sm">
                                                 "Apakah kamu siap jika solusi yang kamu tawarkan justru membebani ekonomi pedagang dan teman-temanmu?"
                                              </p>
                                           </div>
                                        </div>
                                    </div>
                                 </div>
                              </div>

                              <!-- KARTU C -->
                              <div class="perspective-1000">
                                 <div class="relative w-full h-64 md:h-72 cursor-pointer group" onclick="this.querySelector('.flip-card-inner').classList.toggle('rotate-y-180')">
                                    <div class="flip-card-inner w-full h-full transition-transform duration-700 transform-style-3d relative">
                                        <!-- Front -->
                                        <div class="absolute inset-0 w-full h-full backface-hidden rounded-xl shadow-md border-b-4 border-red-400 p-5 flex flex-col justify-center items-center text-center bg-cover bg-center" style="background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)), url('https://assets.kompasiana.com/items/album/2024/03/05/cilok-65e73fff1470936c2128a2a2.jpg?t=o&v=740&x=416');">
                                           <div class="w-10 h-10 rounded-full bg-red-500/90 text-white font-black flex items-center justify-center mb-4 text-lg backdrop-blur-sm shadow-lg">C</div>
                                           <p class="text-xs md:text-sm font-medium text-gray-100 leading-relaxed drop-shadow-md">
                                              Tetap membeli dengan plastik HDPE karena praktis, murah, dan sudah menjadi kebiasaan umum.
                                           </p>
                                           <span class="mt-auto text-[9px] text-red-400 font-bold bg-black/50 backdrop-blur-md px-3 py-1 rounded-full uppercase tracking-wider border border-red-400/30 mb-1.5">Balik Kartu â†º</span>
                                           <span class="text-[8px] text-gray-300">Sumber: <i>kompasiana.com</i></span>
                                        </div>
                                        <!-- Back -->
                                        <div class="absolute inset-0 w-full h-full backface-hidden rotate-y-180 bg-gradient-to-b from-red-500 to-rose-600 rounded-xl shadow-md p-4 flex flex-col justify-center">
                                           <!-- Fakta / Konsekuensi Box -->
                                           <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-3 mb-3 shadow-inner relative text-left">
                                              <div class="text-[9px] font-black text-rose-100 uppercase tracking-widest mb-1.5 flex items-center gap-1">
                                                 <span class="text-sm">ğŸ“Œ</span> Konsekuensi
                                              </div>
                                              <p class="text-[10px] md:text-[11px] text-white leading-relaxed font-medium">
                                                 Kamu menjaga kelancaran ekonomi saat ini, tetapi membiarkan zat kimia plastik menyusup ke sel tubuhmu setiap hari.
                                              </p>
                                           </div>
                                           <!-- Pertanyaan Refleksi -->
                                           <div class="text-left border-l-2 border-rose-200 pl-3">
                                              <p class="text-[9px] font-black text-rose-100 uppercase tracking-widest mb-1">ğŸ¤” Refleksi</p>
                                              <p class="text-[10px] md:text-xs text-rose-50 font-bold leading-relaxed italic drop-shadow-sm">
                                                 "Jika risiko kesehatan baru muncul 20 tahun lagi, apakah kenyamanan dan harga murah hari ini sebanding dengan biaya yang harus dibayar nanti?"
                                              </p>
                                           </div>
                                        </div>
                                    </div>
                                 </div>
                              </div>

                           </div>

                           <!-- TENTUKAN POSISIMU SECTION -->
                           <div class="mt-6 sm:mt-8 bg-white/5 border border-white/20 rounded-2xl p-3 sm:p-5 backdrop-blur-sm">
                               <h6 class="text-[#4ECDC4] font-bold text-sm sm:text-base md:text-lg mb-2 flex items-center gap-2 uppercase tracking-wider">
                                   <span class="text-lg sm:text-xl">âœï¸</span> Tentukan Posisimu
                               </h6>
                               <p class="text-xs md:text-sm text-gray-200 mb-4 leading-relaxed font-medium">
                                   Semua punya konsekuensi. Pilihan mana yang akhirnya kamu ambil? Tuliskan keputusan dan alasanmu di kolom berikut ya:
                               </p>
                               
                               <div id="decisionInputContainer" class="transition-all duration-300">
                                   <textarea id="studentDecision" rows="4" class="w-full bg-slate-900/50 border border-slate-600 rounded-xl p-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-transparent transition-all mb-3 text-sm shadow-inner resize-none" placeholder="Tuliskan keputusan dan alasanmu di sini... (Kamu bebas merumuskan solusimu sendiri, tidak harus memilih dari ke-3 kartu pemantik di atas!)"></textarea>
                                   
                                   <div class="flex justify-end">
                                       <button id="submitDecisionBtn" onclick="submitDecision()" disabled class="px-6 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white text-sm font-bold rounded-xl shadow-md transition-all duration-300 cursor-not-allowed opacity-50 flex items-center gap-2">
                                           Selesai <span class="text-lg">âœ…</span>
                                       </button>
                                   </div>
                               </div>

                               <!-- Feedback Notification -->
                               <div id="decisionFeedback" class="hidden mt-4 bg-gradient-to-r from-green-50 to-teal-50 border-l-4 border-green-500 p-4 md:p-5 rounded-xl shadow-inner animate-[popIn_0.4s_ease-out]">
                                   <p class="text-xs md:text-sm text-gray-800 leading-relaxed mb-4">
                                       <span class="text-green-600 font-bold text-base md:text-lg block mb-2">ğŸ‰ Terima kasih atas argumenmu!</span>
                                       Dalam isu sosial-sains (SSI), <span class="bg-[#FFD93D] px-1.5 py-0.5 rounded-md text-gray-900 font-bold shadow-sm inline-block my-0.5">tidak ada jawaban tunggal yang mutlak benar</span>. Keputusanmu hari ini adalah bentuk negosiasi antara pemahaman sainsmu tentang <span class="bg-[#4ECDC4]/50 border border-[#4ECDC4]/50 px-1.5 py-0.5 rounded-md text-teal-900 font-bold shadow-sm inline-block my-0.5">kestabilan polimer hasil reaksi adisi</span> dengan <span class="bg-[#FFD93D] px-1.5 py-0.5 rounded-md text-gray-900 font-bold shadow-sm inline-block my-0.5">realitas sosial di sekitarmu</span>.
                                   </p>
                                   <p class="text-xs md:text-sm text-gray-800 leading-relaxed font-medium">
                                       Teruslah mengasah daya kritismu, karena setiap pilihan yang kita ambil hari ini membawa <span class="bg-rose-300/60 border border-rose-300/50 px-1.5 py-0.5 rounded-md text-rose-900 font-bold shadow-sm inline-block my-0.5">konsekuensi nyata yang harus kita pertanggungjawabkan</span> di masa depan.
                                   </p>
                               </div>
                           </div>

                       </div>
                   </div>
                </div>

                <!-- Navigation Buttons (Bottom) -->
                <div class="flex justify-between mt-6 pt-4 border-t border-gray-200">
                    <button id="prevSsiBtn" onclick="prevSsiStep()" class="hidden px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-xl text-xs md:text-sm font-bold hover:bg-gray-50 transition-colors shadow-sm">
                       â† Sebelumnya
                    </button>
                    <button id="nextSsiBtn" onclick="nextSsiStep()" class="px-5 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl text-xs md:text-sm font-bold hover:from-indigo-600 hover:to-purple-700 transition-colors shadow-md ml-auto">
                       Selanjutnya â†’
                    </button>
                </div>

             </div>
             <!-- Info Hint at the bottom -->
             <div class="bg-gray-50 text-center py-2 text-[10px] text-gray-400 border-t border-gray-100 font-medium">
                Pilih opsi pada tab untuk menavigasi materi
             </div>
          </div>

         </div> <!-- End of space-y-4 -->
        </div> <!-- End of accordion-content -->
       </div> <!-- End of group Reaksi Adisi -->

      </div>

      <!-- Video Pembelajaran -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span class="bg-gradient-to-br from-[#FFD93D] to-[#FFA500] p-2 rounded-xl text-white">ğŸ“º</span> Video Pembelajaran</h3>
       <p class="text-gray-600 mb-4 text-sm font-medium text-center">Belum terlalu memahami konsep sifat-sifat alkena? Tenang, coba sekarang lihat video ini:</p>
       
       <!-- Wrapper div untuk mengecilkan ukuran video menjadi 90% dan di tengah -->
       <div class="w-full sm:w-[90%] mx-auto">
         <div class="relative w-full pb-[56.25%] h-0 rounded-2xl overflow-hidden shadow-lg border-4 border-white bg-black">
          <iframe class="absolute top-0 left-0 w-full h-full" src="https://www.youtube.com/embed/RFwvlbHmP-w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
         </div>
       </div>
       
       <p class="text-xs text-gray-400 mt-3 text-center italic">*Video mencakup sifat fisik dan beberapa reaksi kimia dasar alkena.</p>
      </div>

      <!-- Navigasi Bawah Tab Sifat Alkena -->
      <div class="flex justify-between mt-8 mb-4">
       <!-- Tombol Back ke Tab Isomer Alkena -->
       <button onclick="switchTab(3)" class="flex items-stretch group cursor-pointer drop-shadow-md hover:drop-shadow-xl hover:-translate-x-2 transition-all duration-300">
        <div class="bg-gradient-to-l from-[#3b82f6] to-[#60a5fa] w-8 flex items-center justify-center relative" style="clip-path: polygon(8px 0, 100% 0, 100% 100%, 8px 100%, 0 50%);">
         <svg class="w-3 h-3 text-white absolute right-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
         </svg>
        </div>
        <div class="bg-[#111827] text-white font-bold px-3 py-1.5 rounded-r-md text-[10px] tracking-widest uppercase">
         ISOMER ALKENA
        </div>
       </button>

       <!-- Tombol Next ke Tab Mulai: ALKUNA -->
       <a href="alkuna.html" class="flex items-stretch group cursor-pointer drop-shadow-md hover:drop-shadow-xl hover:translate-x-2 transition-all duration-300">
        <div class="bg-[#111827] text-white font-bold px-3 py-1.5 rounded-l-md text-[10px] tracking-widest">
         Mulai: ALKUNA
        </div>
        <div class="bg-gradient-to-r from-[#3b82f6] to-[#60a5fa] w-8 flex items-center justify-center relative" style="clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 50%, calc(100% - 8px) 100%, 0 100%);">
         <svg class="w-3 h-3 text-white absolute left-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
         </svg>
        </div>
       </a>
      </div>

     </div><!-- Tab 3: Isomer Alkena -->
     <div id="tab3" class="content-section hidden"><!-- Pengertian Isomer -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span class="bg-gradient-to-br from-[#667eea] to-[#764ba2] p-2 rounded-xl text-white">ğŸ§©</span> Apa itu Isomer?</h3>
       <p class="text-gray-600 mb-4"><strong class="text-[#667eea]">Isomer</strong> adalah senyawa-senyawa yang memiliki <strong class="text-[#4ECDC4]">rumus molekul sama</strong>, tetapi <strong class="text-[#FFA500]">strukturnya berbeda</strong>. Alkena memiliki 4 jenis isomer:</p>
       <!-- Grid Navigasi Interaktif -->
       <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <div onclick="scrollToSection('sec-rangka')" class="bg-gradient-to-br from-[#667eea]/10 to-[#764ba2]/10 rounded-2xl p-4 text-center cursor-pointer hover:scale-105 transition-transform shadow-sm hover:shadow-md border border-transparent hover:border-[#667eea]/30">
         <span class="text-3xl block mb-2">ğŸ”€</span>
         <p class="font-semibold text-[#667eea] text-sm">Isomer Rangka</p>
        </div>
        <div onclick="scrollToSection('sec-posisi')" class="bg-gradient-to-br from-[#4ECDC4]/10 to-[#7FD8BE]/10 rounded-2xl p-4 text-center cursor-pointer hover:scale-105 transition-transform shadow-sm hover:shadow-md border border-transparent hover:border-[#4ECDC4]/30">
         <span class="text-3xl block mb-2">ğŸ“</span>
         <p class="font-semibold text-[#4ECDC4] text-sm">Isomer Posisi</p>
        </div>
        <div onclick="scrollToSection('sec-geometri')" class="bg-gradient-to-br from-[#FFA500]/10 to-[#FFD93D]/10 rounded-2xl p-4 text-center cursor-pointer hover:scale-105 transition-transform shadow-sm hover:shadow-md border border-transparent hover:border-[#FFA500]/30">
         <span class="text-3xl block mb-2">ğŸ”„</span>
         <p class="font-semibold text-[#FFA500] text-sm">Isomer Geometri</p>
        </div>
        <div onclick="scrollToSection('sec-fungsi')" class="bg-gradient-to-br from-pink-500/10 to-rose-500/10 rounded-2xl p-4 text-center cursor-pointer hover:scale-105 transition-transform shadow-sm hover:shadow-md border border-transparent hover:border-pink-500/30">
         <span class="text-3xl block mb-2">ğŸ”—</span>
         <p class="font-semibold text-pink-500 text-sm">Isomer Fungsi</p>
        </div>
       </div>
      </div>

      <!-- Isomer Rangka -->
      <div id="sec-rangka" class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6 scroll-mt-24">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
        <span class="bg-[#667eea] p-2 rounded-xl text-white shadow-md">ğŸ”€</span> 
        <span class="relative px-2 inline-block">
            <span class="absolute inset-0 bg-[#667eea]/30 -skew-y-2 rounded-sm" aria-hidden="true"></span>
            <span class="relative">Isomer Rangka (Kerangka)</span>
        </span>
       </h3>
       <p class="text-gray-600 mb-4">Perbedaan pada susunan kerangka atom karbon (lurus vs bercabang)</p>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="bg-white rounded-xl p-4 border-2 border-[#667eea]/20">
         <p class="font-semibold text-[#667eea] mb-2 text-center">1-Butena</p>
         <div class="font-mono text-center bg-gray-50 p-3 rounded-lg">
          CH<sub>2</sub>=CH-CH<sub>2</sub>-CH<sub>3</sub>
         </div>
         <p class="text-xs text-gray-500 text-center mt-2">Rantai lurus</p>
        </div>
        
        <!-- Card 2-metilpropena dengan tombol info yang menonjol -->
        <div class="bg-white rounded-xl p-4 border-2 border-[#764ba2]/20 relative">
         <!-- Tombol Info Highlighted -->
         <button onclick="showPopup('struktur-2-metilpropena')" class="absolute -top-3 -right-3 bg-gradient-to-br from-[#FFD93D] to-[#FFA500] text-white p-2 rounded-full shadow-lg hover:scale-110 transition-all duration-300 animate-pulse-glow z-10 ring-4 ring-white" title="Klik untuk melihat struktur detail!">
           <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
           </svg>
         </button>
         
         <p class="font-semibold text-[#764ba2] mb-2 text-center">2-metilpropena</p>
         <div class="font-mono text-center bg-gray-50 p-3 rounded-lg">
          CH<sub>2</sub>=C(CH<sub>3</sub>)<sub>2</sub>
         </div>
         <p class="text-xs text-gray-500 text-center mt-2">Rantai bercabang</p>
        </div>
        
       </div>
      </div><!-- Isomer Posisi -->
      <div id="sec-posisi" class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6 scroll-mt-24">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
        <span class="bg-[#4ECDC4] p-2 rounded-xl text-white shadow-md">ğŸ“</span> 
        <span class="relative px-2 inline-block">
            <span class="absolute inset-0 bg-[#4ECDC4]/30 -skew-y-2 rounded-sm" aria-hidden="true"></span>
            <span class="relative">Isomer Posisi</span>
        </span>
       </h3>
       <p class="text-gray-600 mb-4">Perbedaan pada posisi ikatan rangkap di rantai karbon</p>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="bg-white rounded-xl p-4 border-2 border-[#4ECDC4]/20">
         <p class="font-semibold text-[#4ECDC4] mb-2 text-center">1-Butena</p>
         <div class="font-mono text-center bg-gray-50 p-3 rounded-lg"><span class="text-[#FFA500] font-bold">CH<sub>2</sub>=CH</span>-CH<sub>2</sub>-CH<sub>3</sub>
         </div>
         <p class="text-xs text-gray-500 text-center mt-2">Ikatan rangkap di C1-C2</p>
        </div>
        <div class="bg-white rounded-xl p-4 border-2 border-[#7FD8BE]/20">
         <p class="font-semibold text-[#7FD8BE] mb-2 text-center">2-Butena</p>
         <div class="font-mono text-center bg-gray-50 p-3 rounded-lg">
          CH<sub>3</sub>-<span class="text-[#FFA500] font-bold">CH=CH</span>-CH<sub>3</sub>
         </div>
         <p class="text-xs text-gray-500 text-center mt-2">Ikatan rangkap di C2-C3</p>
        </div>
       </div>
      </div>
      
      <!-- Isomer Geometri -->
      <div id="sec-geometri" class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6 scroll-mt-24">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
        <span class="bg-[#FFA500] p-2 rounded-xl text-white shadow-md">ğŸ”„</span> 
        <span class="relative px-2 inline-block">
            <span class="absolute inset-0 bg-[#FFA500]/30 -skew-y-2 rounded-sm" aria-hidden="true"></span>
            <span class="relative">Isomer Geometri (Cis-Trans)</span>
        </span>
       </h3>
       
       <div class="bg-orange-50 border-l-4 border-orange-400 p-4 rounded-r-xl mb-5">
        <p class="text-sm text-gray-700 leading-relaxed mb-4">
          Terjadi karena <strong>ketegakuan (rigiditas)</strong> ikatan rangkap dua C=C yang tidak dapat berputar bebas. Akibatnya, posisi gugus-gugus yang terikat menjadi tetap (<em>fixed</em>) dalam ruang.
        </p>

        <!-- Accordion Cara Penamaan -->
        <div class="group bg-white rounded-xl border border-orange-200 overflow-hidden shadow-sm">
          <button onclick="toggleAccordion(this)" class="w-full flex items-center justify-between p-3 bg-orange-100/50 hover:bg-orange-100 transition-all cursor-pointer">
            <div class="flex items-center gap-2">
              <span class="text-xl">ğŸ“</span>
              <span class="font-bold text-orange-800 text-sm">Cara Penamaan Struktur</span>
            </div>
            <span class="accordion-arrow text-orange-800 transform transition-transform duration-300 font-bold text-lg">â–¶</span>
          </button>
          
          <div class="hidden accordion-content bg-white p-4 space-y-4">
             <div class="flex items-start gap-3">
               <div class="bg-orange-100 text-orange-600 w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0 mt-0.5">1</div>
               <div>
                 <p class="text-sm font-bold text-gray-800">Identifikasi Rantai Utama</p>
                 <p class="text-xs text-gray-600">Pastikan rantai terpanjang mengandung ikatan rangkap C=C.</p>
               </div>
             </div>

             <div class="flex items-start gap-3">
               <div class="bg-orange-100 text-orange-600 w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0 mt-0.5">2</div>
               <div>
                 <p class="text-sm font-bold text-gray-800">Perhatikan Gugus yang Terikat</p>
                 <p class="text-xs text-gray-600">Lihat gugus/atom yang terikat pada kedua atom C ikatan rangkap.</p>
               </div>
             </div>

             <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2">
               <div class="bg-green-50 p-3 rounded-lg border border-green-100">
                 <p class="font-bold text-green-700 text-sm mb-1">CIS- (Sejajar)</p>
                 <p class="text-xs text-gray-600 leading-relaxed">
                   Jika gugus yang sama/prioritas berada pada <strong>sisi yang SAMA</strong> dari bidang ikatan rangkap.
                 </p>
                 <div class="mt-2 text-center font-mono text-xs font-bold text-green-600">cis-2-butena</div>
               </div>
               
               <div class="bg-red-50 p-3 rounded-lg border border-red-100">
                 <p class="font-bold text-red-700 text-sm mb-1">TRANS- (Berseberangan)</p>
                 <p class="text-xs text-gray-600 leading-relaxed">
                   Jika gugus yang sama/prioritas berada pada <strong>sisi yang BERLAWANAN</strong> (menyeberang) secara diagonal.
                 </p>
                 <div class="mt-2 text-center font-mono text-xs font-bold text-red-600">trans-2-butena</div>
               </div>
             </div>
             
          </div>
        </div>
       </div>

       <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <!-- Cis Card -->
        <div class="bg-white rounded-xl p-4 border-2 border-green-200 shadow-sm relative overflow-hidden">
         <div class="absolute top-0 right-0 bg-green-100 text-green-600 px-3 py-1 rounded-bl-xl text-xs font-bold">Sisi Sama</div>
         <p class="font-bold text-green-600 mb-1 text-center text-lg">Cis-2-butena</p>
         
         <div class="flex justify-center mb-3 py-4">
          <svg width="220" height="140" viewBox="0 0 220 140">
            <!-- C=C Atoms in Center -->
            <text x="90" y="80" font-size="20" font-weight="bold" fill="#333" text-anchor="middle" dominant-baseline="middle">C</text>
            <text x="130" y="80" font-size="20" font-weight="bold" fill="#333" text-anchor="middle" dominant-baseline="middle">C</text>
            
            <!-- Double Bond Lines -->
            <line x1="98" y1="77" x2="122" y2="77" stroke="#333" stroke-width="2"/>
            <line x1="98" y1="83" x2="122" y2="83" stroke="#333" stroke-width="2"/>

            <!-- Left Side Bonds (Diagonal) -->
            <line x1="85" y1="70" x2="65" y2="45" stroke="#333" stroke-width="2" stroke-linecap="round"/>
            <line x1="85" y1="90" x2="65" y2="115" stroke="#333" stroke-width="2" stroke-linecap="round"/>

            <!-- Right Side Bonds (Diagonal) -->
            <line x1="135" y1="70" x2="155" y2="45" stroke="#333" stroke-width="2" stroke-linecap="round"/>
            <line x1="135" y1="90" x2="155" y2="115" stroke="#333" stroke-width="2" stroke-linecap="round"/>

            <!-- Groups CIS (CH3 Same Side - Top) -->
            <text x="55" y="40" font-size="16" font-weight="bold" fill="#667eea" text-anchor="middle">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>
            <text x="165" y="40" font-size="16" font-weight="bold" fill="#667eea" text-anchor="middle">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>
            
            <!-- Groups CIS (H Same Side - Bottom) -->
            <text x="55" y="130" font-size="16" font-weight="bold" fill="#999" text-anchor="middle">H</text>
            <text x="165" y="130" font-size="16" font-weight="bold" fill="#999" text-anchor="middle">H</text>
          </svg>
         </div>
         <div class="bg-green-50 p-2 rounded-lg text-xs text-center text-green-800">
           Gugus sejenis (-CH<sub>3</sub>) sejajar di <strong>atas</strong> bidang ikatan.
         </div>
        </div>

        <!-- Trans Card -->
        <div class="bg-white rounded-xl p-4 border-2 border-red-200 shadow-sm relative overflow-hidden">
         <div class="absolute top-0 right-0 bg-red-100 text-red-600 px-3 py-1 rounded-bl-xl text-xs font-bold">Berseberangan</div>
         <p class="font-bold text-red-500 mb-1 text-center text-lg">Trans-2-butena</p>
         
         <div class="flex justify-center mb-3 py-4">
          <svg width="220" height="140" viewBox="0 0 220 140">
            <!-- C=C Atoms in Center -->
            <text x="90" y="80" font-size="20" font-weight="bold" fill="#333" text-anchor="middle" dominant-baseline="middle">C</text>
            <text x="130" y="80" font-size="20" font-weight="bold" fill="#333" text-anchor="middle" dominant-baseline="middle">C</text>
            
            <!-- Double Bond Lines -->
            <line x1="98" y1="77" x2="122" y2="77" stroke="#333" stroke-width="2"/>
            <line x1="98" y1="83" x2="122" y2="83" stroke="#333" stroke-width="2"/>

            <!-- Left Side Bonds (Same as Cis) -->
            <line x1="85" y1="70" x2="65" y2="45" stroke="#333" stroke-width="2" stroke-linecap="round"/>
            <line x1="85" y1="90" x2="65" y2="115" stroke="#333" stroke-width="2" stroke-linecap="round"/>

            <!-- Right Side Bonds (Same geometry) -->
            <line x1="135" y1="70" x2="155" y2="45" stroke="#333" stroke-width="2" stroke-linecap="round"/>
            <line x1="135" y1="90" x2="155" y2="115" stroke="#333" stroke-width="2" stroke-linecap="round"/>

            <!-- Groups TRANS (Diagonal Swap) -->
            <!-- Top Left: CH3 -->
            <text x="55" y="40" font-size="16" font-weight="bold" fill="#667eea" text-anchor="middle">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>
            <!-- Bottom Right: CH3 -->
            <text x="165" y="130" font-size="16" font-weight="bold" fill="#667eea" text-anchor="middle">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>
            
            <!-- Bottom Left: H -->
            <text x="55" y="130" font-size="16" font-weight="bold" fill="#999" text-anchor="middle">H</text>
            <!-- Top Right: H -->
            <text x="165" y="40" font-size="16" font-weight="bold" fill="#999" text-anchor="middle">H</text>
          </svg>
         </div>
         <div class="bg-red-50 p-2 rounded-lg text-xs text-center text-red-800">
           Gugus sejenis (-CH<sub>3</sub>) terletak <strong>menyeberang</strong> secara diagonal.
         </div>
        </div>
       </div>

      </div>
      
      <!-- Isomer Fungsi (NEW SECTION) -->
      <div id="sec-fungsi" class="info-card card-gradient rounded-3xl p-6 shadow-lg mb-6 scroll-mt-24">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
          <span class="bg-pink-500 p-2 rounded-xl text-white shadow-md">ğŸ”—</span> 
          <span class="relative px-2 inline-block">
            <span class="absolute inset-0 bg-pink-500/30 -skew-y-2 rounded-sm" aria-hidden="true"></span>
            <span class="relative">Isomer Fungsi</span>
          </span>
       </h3>
       <div class="bg-pink-50 border-l-4 border-pink-400 p-4 rounded-r-xl mb-5">
        <p class="text-sm text-gray-700 leading-relaxed">
          Alkena berisomer fungsi dengan <strong>Sikloalkana</strong>. Keduanya memiliki rumus umum yang sama yaitu <span class="font-mono font-bold text-pink-600 bg-white px-1 rounded">C<sub>n</sub>H<sub>2n</sub></span>, tetapi strukturnya sangat berbeda (Rantai Terbuka vs Cincin Tertutup).
        </p>
       </div>

       <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Alkena Example -->
          <div class="bg-white rounded-2xl p-5 border-2 border-pink-100 relative group hover:border-pink-300 transition-all shadow-sm">
             <div class="absolute top-3 right-3 bg-pink-100 text-pink-600 text-[10px] font-bold px-2 py-1 rounded-lg uppercase tracking-wider">Alkena</div>
             <p class="text-center font-bold text-gray-700 mb-1 text-lg">1-Butena</p>
             <p class="text-center font-mono text-xs text-gray-400 mb-4">C<sub>4</sub>H<sub>8</sub></p>
             
             <div class="flex justify-center h-40 items-center bg-gray-50 rounded-xl mb-3">
                <!-- SVG Chain (UPDATED WIDTH & COORDINATES for Precision) -->
                <svg width="280" height="80" viewBox="0 0 280 80">
                   <!-- CH2 -->
                   <text x="30" y="47" font-weight="bold" font-size="16" fill="#333" text-anchor="middle" font-family="sans-serif">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>
                   
                   <!-- Double Bond (=) -->
                   <line x1="55" y1="39" x2="85" y2="39" stroke="#db2777" stroke-width="2" stroke-linecap="round" />
                   <line x1="55" y1="45" x2="85" y2="45" stroke="#db2777" stroke-width="2" stroke-linecap="round" />
                   
                   <!-- CH -->
                   <text x="105" y="47" font-weight="bold" font-size="16" fill="#333" text-anchor="middle" font-family="sans-serif">CH</text>
                   
                   <!-- Single Bond (-) -->
                   <line x1="125" y1="42" x2="155" y2="42" stroke="#333" stroke-width="2" stroke-linecap="round" />
                   
                   <!-- CH2 -->
                   <text x="180" y="47" font-weight="bold" font-size="16" fill="#333" text-anchor="middle" font-family="sans-serif">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>
                   
                   <!-- Single Bond (-) -->
                   <line x1="205" y1="42" x2="235" y2="42" stroke="#333" stroke-width="2" stroke-linecap="round" />
                   
                   <!-- CH3 -->
                   <text x="260" y="47" font-weight="bold" font-size="16" fill="#333" text-anchor="middle" font-family="sans-serif">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>
                </svg>
             </div>
             <p class="text-center text-xs font-semibold text-pink-600 bg-pink-50 py-2 rounded-lg">Rantai Terbuka (Alifatik)</p>
          </div>

          <!-- Sikloalkana Example -->
          <div class="bg-white rounded-2xl p-5 border-2 border-pink-100 relative group hover:border-pink-300 transition-all shadow-sm">
             <div class="absolute top-3 right-3 bg-pink-100 text-pink-600 text-[10px] font-bold px-2 py-1 rounded-lg uppercase tracking-wider">Sikloalkana</div>
             <p class="text-center font-bold text-gray-700 mb-1 text-lg">Siklobutana</p>
             <p class="text-center font-mono text-xs text-gray-400 mb-4">C<sub>4</sub>H<sub>8</sub></p>
             
             <div class="flex justify-center h-40 items-center bg-gray-50 rounded-xl mb-3">
                <!-- SVG Square Ring -->
                <svg width="120" height="120" viewBox="0 0 120 120">
                   <!-- Square Structure -->
                   <rect x="30" y="30" width="60" height="60" fill="none" stroke="#db2777" stroke-width="3" />
                   
                   <!-- Corners Labels -->
                   <circle cx="30" cy="30" r="12" fill="white" />
                   <text x="30" y="33" font-size="10" font-weight="bold" text-anchor="middle" fill="#333">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>
                   
                   <circle cx="90" cy="30" r="12" fill="white" />
                   <text x="90" y="33" font-size="10" font-weight="bold" text-anchor="middle" fill="#333">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>
                   
                   <circle cx="90" cy="90" r="12" fill="white" />
                   <text x="90" y="93" font-size="10" font-weight="bold" text-anchor="middle" fill="#333">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>
                   
                   <circle cx="30" cy="90" r="12" fill="white" />
                   <text x="30" y="93" font-size="10" font-weight="bold" text-anchor="middle" fill="#333">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>
                </svg>
             </div>
             <p class="text-center text-xs font-semibold text-pink-600 bg-pink-50 py-2 rounded-lg">Rantai Tertutup (Siklik)</p>
          </div>
       </div>
      </div>

      <!-- Syarat Isomer Geometri -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span class="bg-[#7FD8BE] p-2 rounded-xl text-white">âš™ï¸</span> Syarat Isomer Geometri</h3>
       <div class="bg-gradient-to-r from-[#7FD8BE]/20 to-[#4ECDC4]/20 rounded-2xl p-4">
        <ol class="space-y-3">
         <li class="flex items-start gap-3"><span class="bg-[#4ECDC4] text-white w-7 h-7 rounded-full flex items-center justify-center font-bold flex-shrink-0">1</span> <span class="text-gray-700">Memiliki <strong>ikatan rangkap C=C</strong></span></li>
         <li class="flex items-start gap-3"><span class="bg-[#4ECDC4] text-white w-7 h-7 rounded-full flex items-center justify-center font-bold flex-shrink-0">2</span> <span class="text-gray-700">Setiap atom C pada ikatan rangkap mengikat <strong>2 gugus yang berbeda</strong></span></li>
        </ol>
        <div class="mt-4 bg-white rounded-xl p-3">
         <p class="text-sm text-gray-600">ğŸ’¡ <strong>Contoh:</strong> Propena (CH<sub>3</sub>-CH=CH<sub>2</sub>) tidak memiliki isomer geometri karena C ujung mengikat 2 atom H yang sama</p>
        </div>
       </div>
      </div>

      <!-- Video Pembelajaran Isomer (NEW) -->
      <div class="info-card card-gradient rounded-3xl p-6 shadow-lg mt-6">
       <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span class="bg-gradient-to-br from-[#FFD93D] to-[#FFA500] p-2 rounded-xl text-white">ğŸ“º</span> Video Pembelajaran</h3>
       <p class="text-gray-600 mb-4 text-sm font-medium text-center">Belum terlalu paham mengenai Isomer Alkena? It's ok, yuk sekarang lihat video ini!</p>
       
       <!-- Wrapper div untuk video responsif -->
       <div class="w-full sm:w-[90%] mx-auto">
         <div class="relative w-full pb-[56.25%] h-0 rounded-2xl overflow-hidden shadow-lg border-4 border-white bg-black">
          <iframe class="absolute top-0 left-0 w-full h-full" src="https://www.youtube.com/embed/Ck8lQit29sI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
         </div>
       </div>
      </div>

      <!-- Navigasi Bawah Tab Isomer Alkena -->
      <div class="flex justify-between mt-8 mb-4">
       <!-- Tombol Back ke Tab Tata Nama Alkena -->
       <button onclick="switchTab(2)" class="flex items-stretch group cursor-pointer drop-shadow-md hover:drop-shadow-xl hover:-translate-x-2 transition-all duration-300">
        <div class="bg-gradient-to-l from-[#3b82f6] to-[#60a5fa] w-8 flex items-center justify-center relative" style="clip-path: polygon(8px 0, 100% 0, 100% 100%, 8px 100%, 0 50%);">
         <svg class="w-3 h-3 text-white absolute right-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
         </svg>
        </div>
        <div class="bg-[#111827] text-white font-bold px-3 py-1.5 rounded-r-md text-[10px] tracking-widest uppercase">
         TATA NAMA ALKENA
        </div>
       </button>

       <!-- Tombol Next ke Tab Sifat Alkena -->
       <button onclick="switchTab(4)" class="flex items-stretch group cursor-pointer drop-shadow-md hover:drop-shadow-xl hover:translate-x-2 transition-all duration-300">
        <div class="bg-[#111827] text-white font-bold px-3 py-1.5 rounded-l-md text-[10px] tracking-widest uppercase">
         Sifat Alkena
        </div>
        <div class="bg-gradient-to-r from-[#3b82f6] to-[#60a5fa] w-8 flex items-center justify-center relative" style="clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 50%, calc(100% - 8px) 100%, 0 100%);">
         <svg class="w-3 h-3 text-white absolute left-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
         </svg>
        </div>
       </button>
      </div>

     </div>
    </div>
   </main>
  </div><!-- Popup Modal -->
  <div id="popupModal" class="fixed inset-0 popup-overlay z-50 hidden flex items-center justify-center p-4">
   <div class="popup-content bg-white rounded-3xl max-w-2xl w-full max-h-[90%] overflow-auto shadow-2xl">
    <div id="popupContent"></div>
   </div>
  </div>
  <script>
    // Default configuration
    const defaultConfig = {
      main_title: 'ALKENA',
      primary_color: '#667eea',
      secondary_color: '#4ECDC4',
      accent_color: '#FFD93D',
      text_color: '#333333',
      background_color: '#f8faff'
    };
    
    let currentTab = 1;
    
    // Element SDK initialization
    const elementApi = {
      defaultConfig: defaultConfig,
      onConfigChange: async (config) => {
        document.getElementById('mainTitle').textContent = config.main_title || defaultConfig.main_title;
      },
      mapToCapabilities: (config) => ({
        recolorables: [
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => { config.primary_color = value; window.elementSdk.setConfig({ primary_color: value }); }
          },
          {
            get: () => config.secondary_color || defaultConfig.secondary_color,
            set: (value) => { config.secondary_color = value; window.elementSdk.setConfig({ secondary_color: value }); }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      }),
      mapToEditPanelValues: (config) => new Map([
        ['main_title', config.main_title || defaultConfig.main_title]
      ])
    };
    
    if (window.elementSdk) {
      window.elementSdk.init(elementApi);
    }
    
    // Toggle sidebar (Updated Logic for Responsive Drawer & Desktop Toggle)
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      
      if (window.innerWidth >= 1024) {
        // Logika untuk mode Desktop: geser sidebar ke kiri dan tarik konten utama
        sidebar.classList.toggle('desktop-closed');
      } else {
        // Logika untuk mode Mobile/Tablet: tampilkan overlay dan geser sidebar
        if (sidebar.classList.contains('-translate-x-full')) {
          // Open
          sidebar.classList.remove('-translate-x-full');
          overlay.classList.remove('hidden');
          // Small timeout for fade transition
          setTimeout(() => overlay.classList.remove('opacity-0'), 10);
        } else {
          // Close
          sidebar.classList.add('-translate-x-full');
          overlay.classList.add('opacity-0');
          // Wait for fade out to finish before hiding
          setTimeout(() => overlay.classList.add('hidden'), 300);
        }
      }
    }
    
    // Switch tabs
    function switchTab(tabNumber) {
      // Update navigation buttons
      for (let i = 1; i <= 4; i++) {
        const btn = document.getElementById(`navBtn${i}`);
        const tab = document.getElementById(`tab${i}`);
        
        if (i === tabNumber) {
          btn.classList.add('active');
          tab.classList.remove('hidden');
        } else {
          btn.classList.remove('active');
          tab.classList.add('hidden');
        }
      }
      
      // Update header
      const headers = {
        1: { icon: 'ğŸ”¬', title: 'Mengenal Senyawa Alkena', desc: 'Pelajari dasar-dasar senyawa alkena dengan cara yang menyenangkan!' },
        2: { icon: 'ğŸ“', title: 'Tata Nama Alkena', desc: 'Kuasai aturan penamaan alkena rantai lurus dan bercabang!' },
        3: { icon: 'ğŸ§©', title: 'Isomer Alkena', desc: 'Kenali berbagai jenis isomer pada senyawa alkena!' },
        4: { icon: 'âš—ï¸', title: 'Sifat Alkena', desc: 'Pelajari sifat fisik dan kimia alkena beserta reaksinya!' }
      };
      
      document.getElementById('headerTitle').innerHTML = `${headers[tabNumber].icon} ${headers[tabNumber].title}`;
      document.querySelector('header p').textContent = headers[tabNumber].desc;
      
      currentTab = tabNumber;

      // Close sidebar on mobile after selection
      if (window.innerWidth < 1024) { // lg breakpoint
          const sidebar = document.getElementById('sidebar');
          const overlay = document.getElementById('sidebarOverlay');
          if (!sidebar.classList.contains('-translate-x-full')) {
              sidebar.classList.add('-translate-x-full');
              overlay.classList.add('opacity-0');
              setTimeout(() => overlay.classList.add('hidden'), 300);
          }
      }

      // Scroll to top of main content
      const mainContent = document.getElementById('mainContent');
      if (mainContent) {
        mainContent.scrollTop = 0;
      }
      
      // Re-trigger animation
      const contentContainer = document.getElementById('contentContainer');
      contentContainer.style.animation = 'none';
      contentContainer.offsetHeight;
      contentContainer.style.animation = 'slideIn 0.5s ease-out';
    }
    
    function toggleAccordion(button) {
      const content = button.nextElementSibling;
      // Perbaikan: Mencari elemen dengan class .accordion-arrow terlebih dahulu
      // Hal ini mencegah script memilih span judul secara tidak sengaja
      let arrow = button.querySelector('.accordion-arrow');
      
      // Fallback untuk accordion lama (Tab 1) yang belum menggunakan class khusus
      if (!arrow) {
        arrow = button.querySelector('span:last-child');
      }
      
      if (content.classList.contains('hidden')) {
        content.classList.remove('hidden');
        arrow.style.transform = 'rotate(90deg)';
      } else {
        content.classList.add('hidden');
        arrow.style.transform = 'rotate(0deg)';
      }
    }

    function goHome() {
      switchTab(1);
    }
    
    function closePopup() {
        document.getElementById('popupModal').classList.add('hidden');
    }

    // Function to reveal the hidden part of the Trans Fat popup
    function revealTransFatContent() {
        const content = document.getElementById('transFatContent');
        const btnArea = document.getElementById('introButtonArea');
        if (content) {
            content.classList.remove('hidden');
            // Small timeout to allow display:block to apply before opacity transition
            setTimeout(() => {
                content.classList.remove('opacity-0');
                // Scroll to content
                content.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 50);
        }
        if (btnArea) {
            btnArea.classList.add('hidden');
        }
    }

    // Scroll to Section Helper
    function scrollToSection(id) {
      const element = document.getElementById(id);
      if (element) {
        element.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }

    function showPopup(type) {
      const modal = document.getElementById('popupModal');
      const content = document.getElementById('popupContent');
      
      modal.classList.remove('hidden');
      
      // Mengembalikan posisi scroll pop-up ke paling atas setiap kali dibuka
      const popupContainer = modal.querySelector('.popup-content');
      if (popupContainer) {
          popupContainer.scrollTop = 0;
      }
      
      if (type === 'letak-diene') {
        content.innerHTML = `
          <div class="bg-gradient-to-r from-[#7FD8BE] to-[#4ECDC4] p-4 sm:p-6 rounded-t-3xl relative">
            <div class="flex justify-between items-start">
              <div>
                <p class="text-white/80 text-sm sm:text-base mb-1">ğŸ”— Struktur Diene</p>
                <h3 class="text-2xl sm:text-3xl font-bold text-white">Letak Ikatan Rangkap Dua</h3>
              </div>
              <button onclick="closePopup()" class="text-white hover:text-white/80 text-2xl sm:text-3xl font-bold">&times;</button>
            </div>
          </div>
          <div class="p-4 sm:p-6">
            <!-- Intro -->
            <div class="bg-gradient-to-br from-teal-50 to-cyan-50 rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6">
              <p class="text-gray-700 font-medium text-center text-sm sm:text-lg">
                Berdasarkan letak ikatan rangkap dua dalam rantai C-nya, alkena mempunyai <strong class="text-[#4ECDC4]">3 kemungkinan letak ikatan rangkap dua</strong>:
              </p>
            </div>
            
            <!-- Tipe 1: Kumulatif -->
            <div class="mb-4 sm:mb-6 bg-white rounded-2xl p-4 sm:p-5 border-l-4 border-[#667eea] shadow-sm">
              <h4 class="font-bold text-[#667eea] mb-2 sm:mb-3 flex items-center gap-2 text-lg sm:text-xl">
                <span class="bg-[#667eea] text-white w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-sm sm:text-base font-bold">1</span>
                Kumulatif
              </h4>
              <p class="text-gray-600 mb-2 sm:mb-3 text-sm sm:text-base">
                Apabila letak ikatan rangkap dua <strong>berurutan di satu sisi rantai karbon</strong> (langsung menempel satu sama lain).
              </p>
              <div class="bg-[#667eea]/10 rounded-xl p-3 sm:p-4 mb-2 text-center">
                 <span class="text-[#667eea] font-mono font-bold text-base sm:text-lg">CH<sub>2</sub>=C=CH<sub>2</sub>âˆ’CH<sub>3</sub></span>
              </div>
              <div class="text-center text-xs sm:text-sm text-gray-500 mb-2 sm:mb-3">Dua ikatan rangkap berturut-turut: C1=C2=C3</div>
              <div class="bg-gradient-to-r from-[#667eea]/20 to-[#764ba2]/20 rounded-lg p-2 sm:p-3 text-center">
                <span class="text-sm sm:text-base font-bold text-[#667eea]">Nama: 1,2-butadiena</span>
              </div>
              <p class="text-xs sm:text-sm text-gray-400 mt-2 text-center">Prefix "1,2" menunjukkan posisi kedua ikatan rangkap</p>
            </div>
            
            <!-- Tipe 2: Konjugatif -->
            <div class="mb-4 sm:mb-6 bg-white rounded-2xl p-4 sm:p-5 border-l-4 border-[#FFA500] shadow-sm">
              <h4 class="font-bold text-[#FFA500] mb-2 sm:mb-3 flex items-center gap-2 text-lg sm:text-xl">
                <span class="bg-[#FFA500] text-white w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-sm sm:text-base font-bold">2</span>
                Konjugatif
              </h4>
              <p class="text-gray-600 mb-2 sm:mb-3 text-sm sm:text-base">
                Apabila letak ikatan dua <strong>berselang-seling dengan ikatan tunggal</strong> (ada pola alternating).
              </p>
              <div class="bg-[#FFA500]/10 rounded-xl p-3 sm:p-4 mb-2 text-center">
                 <span class="text-[#FFA500] font-mono font-bold text-base sm:text-lg">CH<sub>2</sub>=CHâˆ’CH=CHâˆ’CH<sub>3</sub></span>
              </div>
              <div class="text-center text-xs sm:text-sm text-gray-500 mb-2 sm:mb-3">Pola alternating: C1=C2-C3=C4</div>
              <div class="bg-gradient-to-r from-[#FFA500]/20 to-[#FFD93D]/20 rounded-lg p-2 sm:p-3 text-center">
                <span class="text-sm sm:text-base font-bold text-[#FFA500]">Nama: 1,3-pentadiena</span>
              </div>
              <p class="text-xs sm:text-sm text-gray-400 mt-2 text-center">Posisi ikatan rangkap di C1 dan C3 (dipisahkan 1 ikatan tunggal)</p>
            </div>
            
            <!-- Tipe 3: Terisolasi -->
            <div class="mb-4 sm:mb-6 bg-white rounded-2xl p-4 sm:p-5 border-l-4 border-[#4ECDC4] shadow-sm">
              <h4 class="font-bold text-[#4ECDC4] mb-2 sm:mb-3 flex items-center gap-2 text-lg sm:text-xl">
                <span class="bg-[#4ECDC4] text-white w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-sm sm:text-base font-bold">3</span>
                Terisolasi
              </h4>
              <p class="text-gray-600 mb-2 sm:mb-3 text-sm sm:text-base">
                Apabila letak ikatan rangkap dua <strong>dipisahkan oleh lebih dari satu ikatan tunggal</strong> pada rantai karbonnya.
              </p>
              <div class="bg-[#4ECDC4]/10 rounded-xl p-3 sm:p-4 mb-2 text-center">
                 <span class="text-[#4ECDC4] font-mono font-bold text-base sm:text-lg">CH<sub>2</sub>=CHâˆ’CH<sub>2</sub>âˆ’CH=CHâˆ’CH<sub>2</sub>âˆ’CH<sub>3</sub></span>
              </div>
              <div class="text-center text-xs sm:text-sm text-gray-500 mb-2 sm:mb-3">Dipisahkan oleh 2 ikatan tunggal: C1=C2-C3-C4=C5</div>
              <div class="bg-gradient-to-r from-[#4ECDC4]/20 to-[#7FD8BE]/20 rounded-lg p-2 sm:p-3 text-center">
                <span class="text-sm sm:text-base font-bold text-[#4ECDC4]">Nama: 1,4-heptadiena</span>
              </div>
              <p class="text-xs sm:text-sm text-gray-400 mt-2 text-center">Posisi ikatan rangkap di C1 dan C4 (dipisahkan 2+ ikatan tunggal)</p>
            </div>

            <!-- Table Comparison -->
            <div class="mb-4 sm:mb-6">
              <h4 class="font-bold text-gray-800 mb-3 text-center text-base sm:text-lg">ğŸ“Š Perbandingan Ketiga Tipe Diene</h4>
              <div class="overflow-x-auto rounded-lg border border-gray-100">
                <table class="w-full text-xs sm:text-sm text-left">
                  <thead class="bg-gray-50 text-gray-700 font-bold border-b border-gray-200">
                    <tr>
                      <th class="p-2 sm:p-3">Tipe</th>
                      <th class="p-2 sm:p-3">Letak Ikatan</th>
                      <th class="p-2 sm:p-3">Pola</th>
                      <th class="p-2 sm:p-3">Contoh</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-gray-100">
                    <tr class="hover:bg-gray-50">
                      <td class="p-2 sm:p-3 font-semibold text-[#667eea]">Kumulatif</td>
                      <td class="p-2 sm:p-3">Berurutan</td>
                      <td class="p-2 sm:p-3 font-mono">C=C=C</td>
                      <td class="p-2 sm:p-3">1,2-butadiena</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="p-2 sm:p-3 font-semibold text-[#FFA500]">Konjugatif</td>
                      <td class="p-2 sm:p-3">Berselang-seling</td>
                      <td class="p-2 sm:p-3 font-mono">C=C-C=C</td>
                      <td class="p-2 sm:p-3">1,3-pentadiena</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="p-2 sm:p-3 font-semibold text-[#4ECDC4]">Terisolasi</td>
                      <td class="p-2 sm:p-3">Berjauhan</td>
                      <td class="p-2 sm:p-3 font-mono">C=C-C-C=C</td>
                      <td class="p-2 sm:p-3">1,4-heptadiena</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Footer Note -->
            <div class="bg-yellow-50 p-4 sm:p-5 rounded-xl border border-yellow-200 mb-4 sm:mb-6">
              <p class="text-xs sm:text-sm text-yellow-800 text-center font-medium leading-relaxed">
                ğŸ’¡ <strong>Ingat:</strong> Urutan stabilitas (dari tertinggi ke terendah) adalah Konjugatif > Terisolasi > Kumulatif. Sistem konjugatif paling stabil karena adanya efek resonansi.
              </p>
            </div>

            <!-- Button Mengerti -->
            <button onclick="closePopup()" class="w-full bg-gradient-to-r from-[#7FD8BE] to-[#4ECDC4] text-white font-bold py-2.5 sm:py-3 text-base sm:text-lg rounded-xl shadow-lg hover:shadow-xl transition-all active:scale-95 transform hover:-translate-y-1">
               Mengerti ğŸ‘
            </button>
          </div>
        `;
      } else if (type === 'notasi') {
         content.innerHTML = `
          <div class="bg-gradient-to-r from-[#44A8FF] to-[#4ECDC4] p-6 rounded-t-3xl relative">
            <div class="flex justify-between items-start">
              <div>
                <p class="text-white/80 text-sm mb-1">ğŸ“ Notasi Rumus</p>
                <h3 class="text-2xl font-bold text-white">Memahami Penulisan Ringkas Alkena</h3>
              </div>
              <button onclick="closePopup()" class="text-white hover:text-white/80 text-3xl font-bold">&times;</button>
            </div>
          </div>
          <div class="p-6 overflow-y-auto max-h-[70vh]">
             <!-- Intro -->
             <div class="text-center mb-6">
               <div class="text-4xl mb-2">ğŸ”</div>
               <p class="text-gray-600 font-medium">Mari kita "dekode" notasi singkat menjadi rumus lengkap!</p>
             </div>

             <!-- Main Example -->
             <div class="bg-blue-50 border-2 border-blue-200 rounded-2xl p-4 mb-6 text-center">
               <p class="text-sm text-blue-500 font-bold uppercase tracking-widest mb-2">ğŸ” Contoh</p>
               <p class="text-2xl md:text-3xl font-mono font-bold text-gray-800">CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>5</sub>-CH<sub>3</sub></p>
             </div>

             <!-- Breakdown -->
             <div class="space-y-4 mb-6">
               <!-- Part 1 -->
               <div class="flex gap-4 items-start bg-white p-3 rounded-xl shadow-sm border border-gray-100">
                 <div class="bg-red-100 text-red-500 p-2 rounded-lg font-bold text-xs whitespace-nowrap">ğŸ“ Bagian 1</div>
                 <div>
                   <p class="font-mono font-bold text-gray-800 bg-gray-100 inline-block px-2 rounded mb-1">CH<sub>2</sub>=CH</p>
                   <p class="text-sm text-gray-600">Ini adalah ikatan rangkap di awal rantai. Ada 1 atom C di kiri dan 1 atom C di kanan yang terikat oleh ikatan rangkap.</p>
                 </div>
               </div>

               <!-- Part 2 -->
               <div class="flex gap-4 items-start bg-white p-3 rounded-xl shadow-sm border border-gray-100">
                 <div class="bg-green-100 text-green-500 p-2 rounded-lg font-bold text-xs whitespace-nowrap">ğŸ“ Bagian 2</div>
                 <div>
                   <p class="font-mono font-bold text-gray-800 bg-gray-100 inline-block px-2 rounded mb-1">-(CH<sub>2</sub>)<sub>5</sub></p>
                   <div class="text-sm text-gray-600">
                     <p class="mb-1">= <span class="font-mono text-green-600 font-bold">-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub></span></p>
                     <p>Angka 5 di dalam kurung berarti grup CH<sub>2</sub> ini diulang <strong>5 kali berturut-turut</strong> di tengah rantai!</p>
                   </div>
                 </div>
               </div>

               <!-- Part 3 -->
               <div class="flex gap-4 items-start bg-white p-3 rounded-xl shadow-sm border border-gray-100">
                 <div class="bg-purple-100 text-purple-500 p-2 rounded-lg font-bold text-xs whitespace-nowrap">ğŸ“ Bagian 3</div>
                 <div>
                   <p class="font-mono font-bold text-gray-800 bg-gray-100 inline-block px-2 rounded mb-1">-CH<sub>3</sub></p>
                   <p class="text-sm text-gray-600">Di ujung rantai ada 1 gugus metil (CH<sub>3</sub>).</p>
                 </div>
               </div>
             </div>

             <!-- Comparison -->
             <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-5 mb-6">
               <h4 class="font-bold text-gray-800 mb-4 flex items-center gap-2">âœ¨ Penulisan Lengkap</h4>
               
               <div class="space-y-4">
                 <div>
                   <p class="text-xs text-gray-500 font-bold uppercase mb-1">Bentuk Singkat:</p>
                   <div class="bg-white p-3 rounded-lg font-mono text-center shadow-sm border border-gray-200">
                     CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>5</sub>-CH<sub>3</sub>
                   </div>
                 </div>
                 
                 <div class="flex justify-center text-gray-400 text-xl">â†“</div>
                 
                 <div>
                   <p class="text-xs text-gray-500 font-bold uppercase mb-1">Bentuk Lengkap:</p>
                   <div class="bg-white p-3 rounded-lg font-mono text-xs md:text-sm text-center shadow-sm border border-gray-200 break-words">
                     CH<sub>2</sub>=CH<span class="text-green-600 font-bold">-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub></span>-CH<sub>3</sub>
                   </div>
                 </div>
                 
                 <p class="text-center text-sm font-medium text-[#4ECDC4]">ğŸ¯ Keduanya adalah SAMA, hanya cara penulisannya yang berbeda!</p>
               </div>
             </div>

             <!-- Table -->
             <div class="mb-6">
               <h4 class="font-bold text-gray-800 mb-3 flex items-center gap-2">ğŸ“Š Perbandingan Beberapa Contoh</h4>
               <div class="space-y-3 text-sm">
                 
                 <!-- Row 1 -->
                 <div class="bg-white p-3 rounded-xl border border-gray-100 shadow-sm">
                   <div class="font-mono font-bold text-[#667eea] mb-1">CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>3</sub>-CH<sub>3</sub></div>
                   <div class="flex items-start gap-2">
                     <span class="text-gray-400">â†’</span>
                     <div>
                       <p class="font-mono text-gray-600 text-xs break-all">CH<sub>2</sub>=CH-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>3</sub></p>
                       <p class="text-xs font-bold text-gray-500 mt-1">(1-Heksena)</p>
                     </div>
                   </div>
                 </div>

                 <!-- Row 2 -->
                 <div class="bg-white p-3 rounded-xl border border-gray-100 shadow-sm">
                   <div class="font-mono font-bold text-[#667eea] mb-1">CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>5</sub>-CH<sub>3</sub></div>
                   <div class="flex items-start gap-2">
                     <span class="text-gray-400">â†’</span>
                     <div>
                       <p class="font-mono text-gray-600 text-xs break-all">CH<sub>2</sub>=CH-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>3</sub></p>
                       <p class="text-xs font-bold text-gray-500 mt-1">(1-Oktena)</p>
                     </div>
                   </div>
                 </div>

                 <!-- Row 3 -->
                 <div class="bg-white p-3 rounded-xl border border-gray-100 shadow-sm">
                   <div class="font-mono font-bold text-[#667eea] mb-1">CH<sub>2</sub>=CH-(CH<sub>2</sub>)<sub>7</sub>-CH<sub>3</sub></div>
                   <div class="flex items-start gap-2">
                     <span class="text-gray-400">â†’</span>
                     <div>
                       <p class="font-mono text-gray-600 text-xs break-all">CH<sub>2</sub>=CH-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>2</sub>-CH<sub>3</sub></p>
                       <p class="text-xs font-bold text-gray-500 mt-1">(1-Dekena)</p>
                     </div>
                   </div>
                 </div>

               </div>
             </div>

             <!-- Pro Tip -->
             <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-xl mb-6">
               <p class="font-bold text-yellow-700 mb-1">ğŸ’¡ Pro Tip:</p>
               <p class="text-sm text-yellow-800 leading-relaxed">
                 Jika kamu lihat tanda kurung dengan angka kecil di belakangnya, itu berarti "diulang berkali-kali". 
                 <br>Contoh: <strong>(CH<sub>2</sub>)<sub>5</sub></strong> = ulangi CH<sub>2</sub> sebanyak 5 kali!
               </p>
             </div>

             <!-- Button -->
             <button onclick="closePopup()" class="w-full bg-gradient-to-r from-[#44A8FF] to-[#4ECDC4] text-white font-bold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all active:scale-95">
               Sudah Paham ğŸ‘
             </button>
          </div>
          `;
      } else if (type === 'lingkungan') {
         content.innerHTML = `
          <div class="bg-gradient-to-r from-[#667eea] to-[#764ba2] p-6 rounded-t-3xl">
            <div class="flex justify-between items-start">
              <div>
                <span class="text-2xl block mb-2">ğŸŒ</span>
                <h3 class="text-xl font-bold text-white">Kenapa Plastik Tidak Bisa Mati?</h3>
              </div>
              <button onclick="closePopup()" class="text-white/80 hover:text-white text-2xl">&times;</button>
            </div>
          </div>
          <div class="p-6">
             <p class="text-gray-700 mb-4 leading-relaxed">
               Plastik seperti kantong kresek (Polietilena) terbentuk dari reaksi <strong>polimerisasi adisi</strong> etena. 
             </p>
             <div class="bg-red-50 p-4 rounded-xl mb-4">
               <h4 class="font-bold text-red-500 mb-2">Masalah Utamanya:</h4>
               <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                 <li>Ikatan antar atom karbon (C-C) sangat kuat.</li>
                 <li>Rantainya sangat panjang dan non-polar (seperti lemak).</li>
                 <li>Bakteri pengurai tidak memiliki enzim untuk memotong rantai karbon yang begitu panjang dan stabil ini.</li>
               </ul>
             </div>
             <p class="text-sm text-gray-500 italic text-center">Akibatnya, plastik bisa bertahan ratusan tahun di alam.</p>
          </div>
          `;
      } else if (type === 'struktur-2-metilpropena') {
        content.innerHTML = `
          <div class="bg-gradient-to-r from-[#764ba2] to-[#667eea] p-6 rounded-t-3xl relative">
            <div class="flex justify-between items-start">
              <div>
                <p class="text-white/80 text-sm mb-1">ğŸ” Detail Struktur</p>
                <h3 class="text-2xl font-bold text-white">Struktur 2-metilpropena</h3>
              </div>
              <button onclick="closePopup()" class="text-white hover:text-white/80 text-3xl font-bold">&times;</button>
            </div>
          </div>
          <div class="p-6">
             <div class="text-center mb-6">
               <p class="text-gray-600 text-sm mb-2 font-medium">Mengubah notasi singkat:</p>
               <div class="inline-block bg-gray-100 px-4 py-2 rounded-lg font-mono text-xl font-bold text-[#764ba2]">
                 CH<sub>2</sub>=C(CH<sub>3</sub>)<sub>2</sub>
               </div>
             </div>

             <div class="bg-white border-2 border-[#764ba2]/20 rounded-2xl p-6 mb-6 shadow-sm relative overflow-hidden">
               <p class="text-center text-xs text-gray-400 mb-4 font-bold uppercase tracking-widest">Menjadi Struktur Lengkap</p>
               
               <div class="flex justify-center items-center">
                 <!-- Diperlebar menjadi width 300 agar label 'Cabang' tidak terpotong -->
                 <svg width="300" height="180" viewBox="0 0 300 180">
                   <!-- C=C Center -->
                   <text x="60" y="65" font-size="22" font-weight="bold" fill="#667eea" text-anchor="middle">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>
                   
                   <!-- Double Bond -->
                   <line x1="95" y1="58" x2="145" y2="58" stroke="#333" stroke-width="3" />
                   <line x1="95" y1="68" x2="145" y2="68" stroke="#333" stroke-width="3" />
                   
                   <!-- C Central -->
                   <text x="160" y="65" font-size="22" font-weight="bold" fill="#4ECDC4" text-anchor="middle">C</text>
                   
                   <!-- Right Bond -->
                   <line x1="175" y1="63" x2="205" y2="63" stroke="#333" stroke-width="2" />
                   
                   <!-- CH3 Right -->
                   <text x="235" y="68" font-size="22" font-weight="bold" fill="#764ba2" text-anchor="middle">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>
                   
                   <!-- Vertical Bond (Branch) -->
                   <line x1="160" y1="80" x2="160" y2="110" stroke="#333" stroke-width="2" />
                   
                   <!-- CH3 Bottom (Branch) -->
                   <text x="160" y="135" font-size="22" font-weight="bold" fill="#764ba2" text-anchor="middle">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>
                   
                   <!-- Annotation -->
                   <path d="M185 130 Q 230 130 230 90" stroke="#FFA500" stroke-width="2" fill="none" stroke-dasharray="4"/>
                   <text x="235" y="85" font-size="14" fill="#FFA500" font-weight="bold">Cabang</text>
                 </svg>
               </div>
             </div>

             <div class="space-y-3">
               <div class="flex items-start gap-3 bg-blue-50 p-3 rounded-lg border border-blue-100">
                 <span class="text-2xl">ğŸ’¡</span>
                 <div>
                   <p class="text-sm font-bold text-blue-800">Arti Tanda Kurung ( )</p>
                   <p class="text-xs text-blue-700 leading-relaxed mt-1">
                     Gugus <strong>(CH<sub>3</sub>)<sub>2</sub></strong> artinya ada dua buah gugus metil (CH<sub>3</sub>) yang terikat pada atom C sebelumnya (atom C yang di tengah).
                   </p>
                 </div>
               </div>
               <div class="flex items-start gap-3 bg-purple-50 p-3 rounded-lg border border-purple-100">
                 <span class="text-2xl">ğŸŒ³</span>
                 <div>
                   <p class="text-sm font-bold text-purple-800">Membentuk Cabang</p>
                   <p class="text-xs text-purple-700 leading-relaxed mt-1">
                     Satu CHâ‚ƒ menjadi bagian dari rantai utama (lurus), dan satu CHâ‚ƒ lainnya dipaksa menjadi <strong>cabang</strong> (ke bawah atau ke atas) karena C maksimal hanya punya 4 tangan.
                   </p>
                 </div>
               </div>
             </div>

             <!-- Button Mengerti -->
             <button onclick="closePopup()" class="w-full mt-6 bg-gradient-to-r from-[#764ba2] to-[#667eea] text-white font-bold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all active:scale-95">
               Saya Mengerti ğŸ‘
             </button>
          </div>
        `;
      }
    }
    
    // Show structure examples with SVG
    function showExample(type, btnElement = null) {
      // Logic untuk memberikan efek state aktif pada tombol
      if (btnElement) {
          const allBtns = document.querySelectorAll('.example-btn');
          allBtns.forEach(b => {
              b.classList.remove('ring-4', 'ring-offset-2', 'scale-105', 'shadow-lg', 'ring-[#4ECDC4]', 'ring-[#667eea]', 'ring-[#764ba2]');
          });
          
          btnElement.classList.add('ring-4', 'ring-offset-2', 'scale-105', 'shadow-lg');
          if(type === '1-butena') btnElement.classList.add('ring-[#4ECDC4]');
          if(type === '2-butena') btnElement.classList.add('ring-[#667eea]');
          if(type === '1,3,5-hexatriene') btnElement.classList.add('ring-[#764ba2]');
      }

      const display = document.getElementById('exampleDisplay');
      
      if (type === '1-butena') {
        display.innerHTML = `
          <div class="space-y-4">
            <!-- Struktur Molekul -->
            <div>
              <p class="font-semibold text-[#4ECDC4] mb-3 text-center text-lg">CHâ‚‚=CH-CHâ‚‚-CHâ‚ƒ</p>
              <svg viewBox="0 0 380 180" class="w-full max-w-[380px] h-auto mx-auto block">
                <!-- C1 with H atoms (double bonded) - showing all H -->
                <circle cx="60" cy="90" r="16" fill="#FFA500"/>
                <text x="60" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C1 top-left -->
                <line x1="50" y1="76" x2="30" y2="50" stroke="#333" stroke-width="2"/>
                <text x="25" y="45" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- H on C1 bottom-left -->
                <line x1="50" y1="104" x2="30" y2="130" stroke="#333" stroke-width="2"/>
                <text x="25" y="135" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- Double Bond to C2 (sigma and pi) -->
                <line x1="76" y1="83" x2="116" y2="83" stroke="#333" stroke-width="3"/>
                <line x1="76" y1="97" x2="116" y2="97" stroke="#FFA500" stroke-width="2"/>
                
                <!-- C2 with H atom (double bonded) - showing only 1 H -->
                <circle cx="136" cy="90" r="16" fill="#FFA500"/>
                <text x="136" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C2 top -->
                <line x1="136" y1="74" x2="136" y2="50" stroke="#333" stroke-width="2"/>
                <text x="136" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Single Bond to C3 -->
                <line x1="152" y1="90" x2="196" y2="90" stroke="#333" stroke-width="2"/>
                
                <!-- C3 with H atoms (single bonded) -->
                <circle cx="216" cy="90" r="16" fill="#667eea"/>
                <text x="216" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C3 top -->
                <line x1="216" y1="74" x2="216" y2="50" stroke="#333" stroke-width="2"/>
                <text x="216" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- H on C3 bottom -->
                <line x1="216" y1="106" x2="216" y2="130" stroke="#333" stroke-width="2"/>
                <text x="216" y="142" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Single Bond to C4 -->
                <line x1="232" y1="90" x2="276" y2="90" stroke="#333" stroke-width="2"/>
                
                <!-- C4 with H atoms (single bonded) -->
                <circle cx="296" cy="90" r="16" fill="#667eea"/>
                <text x="296" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C4 top-right -->
                <line x1="306" y1="76" x2="326" y2="50" stroke="#333" stroke-width="2"/>
                <text x="331" y="45" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- H on C4 bottom-right -->
                <line x1="306" y1="104" x2="326" y2="130" stroke="#333" stroke-width="2"/>
                <text x="331" y="135" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- H on C4 back -->
                <line x1="296" y1="74" x2="296" y2="50" stroke="#333" stroke-width="2"/>
                <text x="296" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Numbers -->
                <text x="60" y="165" font-size="16" font-weight="bold" fill="#4ECDC4" text-anchor="middle">1</text>
                <text x="136" y="165" font-size="16" font-weight="bold" fill="#4ECDC4" text-anchor="middle">2</text>
                <text x="216" y="165" font-size="16" font-weight="bold" fill="#667eea" text-anchor="middle">3</text>
                <text x="296" y="165" font-size="16" font-weight="bold" fill="#667eea" text-anchor="middle">4</text>
              </svg>
            </div>

            <!-- Pembahasan Langkah Demi Langkah -->
            <div class="sm:bg-gradient-to-r sm:from-[#4ECDC4]/10 sm:to-[#7FD8BE]/10 sm:rounded-2xl sm:p-4 space-y-2 sm:space-y-3 mt-4 sm:mt-0">
              <h4 class="font-bold text-[#4ECDC4] text-base sm:text-lg mb-2 sm:mb-3">ğŸ“ Pembahasan Lengkap</h4>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#667eea]">
                <p class="font-semibold text-[#667eea] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 1: Identifikasi Rantai Utama</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1">âœ“ Rantai terpanjang yang mengandung <strong>ikatan rangkap</strong></p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Jumlah atom karbon: <span class="font-mono font-bold text-[#4ECDC4]">4 karbon</span> â†’ Nama dasar: <strong>Butena</strong></p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#FFA500]">
                <p class="font-semibold text-[#FFA500] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 2: Tentukan Penomoran Rantai</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">Pilih ujung yang <strong>TERDEKAT dengan ikatan rangkap</strong>:</p>
                <div class="bg-gray-50 rounded p-2 text-xs font-mono space-y-1 mb-1 sm:mb-2">
                  <p>Dari kiri (1-2-3-4): Ikatan di C<strong class="text-[#4ECDC4]">1</strong>-C<strong class="text-[#4ECDC4]">2</strong> âœ… <span class="text-green-600 font-bold">TERDEKAT!</span></p>
                  <p>Dari kanan (4-3-2-1): Ikatan di C<strong>3</strong>-C<strong>4</strong> âŒ Lebih jauh</p>
                </div>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ <strong>Gunakan penomoran dari kiri!</strong></p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#4ECDC4]">
                <p class="font-semibold text-[#4ECDC4] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 3: Identifikasi Posisi Ikatan Rangkap</p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Ikatan berada di antara C<span class="font-mono font-bold text-[#FFA500]">1</span> dan C<span class="font-mono font-bold text-[#FFA500]">2</span></p>
                <p class="text-xs sm:text-sm text-gray-600 mt-1">âœ“ Gunakan nomor karbon yang <strong>TERKECIL</strong>: <span class="font-mono font-bold text-[#FFA500]">1</span></p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#764ba2]">
                <p class="font-semibold text-[#764ba2] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 4: Cek Cabang</p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Tidak ada cabang pada senyawa ini</p>
                <p class="text-xs sm:text-sm text-gray-600 mt-1">âœ“ Rantai lurus dan sempurna</p>
              </div>
              
              <div class="bg-gradient-to-r from-[#667eea] to-[#764ba2] rounded-lg p-2.5 sm:p-3 text-white">
                <p class="text-xs sm:text-sm font-bold mb-1">âœ“ HASIL AKHIR:</p>
                <p class="font-mono text-center text-base sm:text-lg font-bold">1-Butena</p>
                <p class="text-[10px] sm:text-xs text-white/80 text-center mt-1">(Nomor posisi 1 + Nama rantai Butena)</p>
              </div>
            </div>
          </div>
        `;
      } else if (type === '1,3,5-hexatriene') {
        display.innerHTML = `
          <div class="space-y-4">
            <!-- Struktur Molekul -->
            <div>
              <p class="font-semibold text-[#764ba2] mb-3 text-center text-lg">CHâ‚‚=CH-CH=CH-CH=CHâ‚‚</p>
              <svg viewBox="0 0 420 180" class="w-full max-w-[420px] h-auto mx-auto block">
                <!-- C1 with H atoms (double bonded) -->
                <circle cx="40" cy="90" r="16" fill="#FFA500"/>
                <text x="40" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C1 top-left -->
                <line x1="30" y1="76" x2="10" y2="50" stroke="#333" stroke-width="2"/>
                <text x="5" y="45" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- H on C1 bottom-left -->
                <line x1="30" y1="104" x2="10" y2="130" stroke="#333" stroke-width="2"/>
                <text x="5" y="135" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- Double Bond to C2 -->
                <line x1="56" y1="83" x2="86" y2="83" stroke="#333" stroke-width="3"/>
                <line x1="56" y1="97" x2="86" y2="97" stroke="#FFA500" stroke-width="2"/>
                
                <!-- C2 with H atom -->
                <circle cx="106" cy="90" r="16" fill="#FFA500"/>
                <text x="106" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C2 top -->
                <line x1="106" y1="74" x2="106" y2="50" stroke="#333" stroke-width="2"/>
                <text x="106" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Single Bond to C3 -->
                <line x1="122" y1="90" x2="146" y2="90" stroke="#333" stroke-width="2"/>
                
                <!-- C3 -->
                <circle cx="166" cy="90" r="16" fill="#FFA500"/>
                <text x="166" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C3 top -->
                <line x1="166" y1="74" x2="166" y2="50" stroke="#333" stroke-width="2"/>
                <text x="166" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Double Bond to C4 -->
                <line x1="182" y1="83" x2="212" y2="83" stroke="#333" stroke-width="3"/>
                <line x1="182" y1="97" x2="212" y2="97" stroke="#FFA500" stroke-width="2"/>
                
                <!-- C4 -->
                <circle cx="232" cy="90" r="16" fill="#FFA500"/>
                <text x="232" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C4 top -->
                <line x1="232" y1="74" x2="232" y2="50" stroke="#333" stroke-width="2"/>
                <text x="232" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Single Bond to C5 -->
                <line x1="248" y1="90" x2="272" y2="90" stroke="#333" stroke-width="2"/>
                
                <!-- C5 -->
                <circle cx="292" cy="90" r="16" fill="#FFA500"/>
                <text x="292" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C5 top -->
                <line x1="292" y1="74" x2="292" y2="50" stroke="#333" stroke-width="2"/>
                <text x="292" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Double Bond to C6 -->
                <line x1="308" y1="83" x2="338" y2="83" stroke="#333" stroke-width="3"/>
                <line x1="308" y1="97" x2="338" y2="97" stroke="#FFA500" stroke-width="2"/>
                
                <!-- C6 with H atoms -->
                <circle cx="358" cy="90" r="16" fill="#FFA500"/>
                <text x="358" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C6 top-right -->
                <line x1="368" y1="76" x2="388" y2="50" stroke="#333" stroke-width="2"/>
                <text x="393" y="45" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- H on C6 bottom-right -->
                <line x1="368" y1="104" x2="388" y2="130" stroke="#333" stroke-width="2"/>
                <text x="393" y="135" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- Numbers -->
                <text x="40" y="165" font-size="16" font-weight="bold" fill="#4ECDC4" text-anchor="middle">1</text>
                <text x="106" y="165" font-size="16" font-weight="bold" fill="#4ECDC4" text-anchor="middle">2</text>
                <text x="166" y="165" font-size="16" font-weight="bold" fill="#4ECDC4" text-anchor="middle">3</text>
                <text x="232" y="165" font-size="16" font-weight="bold" fill="#4ECDC4" text-anchor="middle">4</text>
                <text x="292" y="165" font-size="16" font-weight="bold" fill="#4ECDC4" text-anchor="middle">5</text>
                <text x="358" y="165" font-size="16" font-weight="bold" fill="#4ECDC4" text-anchor="middle">6</text>
              </svg>
            </div>

            <!-- Pembahasan Langkah Demi Langkah -->
            <div class="sm:bg-gradient-to-r sm:from-[#764ba2]/10 sm:to-[#FFA500]/10 sm:rounded-2xl sm:p-4 space-y-2 sm:space-y-3 mt-4 sm:mt-0">
              <h4 class="font-bold text-[#764ba2] text-base sm:text-lg mb-2 sm:mb-3">ğŸ“ Pembahasan Lengkap</h4>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#667eea]">
                <p class="font-semibold text-[#667eea] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 1: Identifikasi Rantai Utama</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1">âœ“ Rantai terpanjang yang mengandung <strong>semua ikatan rangkap</strong></p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Jumlah atom karbon: <span class="font-mono font-bold text-[#4ECDC4]">6 karbon</span> â†’ Nama dasar: <strong>Heksena</strong></p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#FFA500]">
                <p class="font-semibold text-[#FFA500] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 2: Tentukan Penomoran Rantai</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">Pilih ujung yang <strong>TERDEKAT dengan ikatan rangkap PERTAMA</strong>:</p>
                <div class="bg-gray-50 rounded p-2 text-xs font-mono space-y-1 mb-1 sm:mb-2">
                  <p>Dari kiri (1-2-3-4-5-6): Ikatan pertama di C<strong class="text-[#4ECDC4]">1</strong>-C<strong class="text-[#4ECDC4]">2</strong> âœ… <span class="text-green-600 font-bold">TERDEKAT!</span></p>
                  <p>Dari kanan (6-5-4-3-2-1): Ikatan pertama di C<strong>1</strong>-C<strong>2</strong> (sama) âœ“</p>
                </div>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ <strong>Hasilnya sama dari mana pun, untuk pembahasan ini, kita pilih dari arah kiri ya. Jika kalian ingin mengerjakan dari kanan juga boleh, hasil akhir akan SAMA</strong></p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#4ECDC4]">
                <p class="font-semibold text-[#4ECDC4] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 3: Identifikasi Semua Posisi Ikatan Rangkap</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">âœ“ Ada <strong>3 ikatan rangkap</strong> di posisi:</p>
                <div class="bg-[#4ECDC4]/10 rounded p-2 text-xs sm:text-sm font-mono text-center space-y-1">
                  <p><strong class="text-[#4ECDC4]">C1=C2</strong> â†’ Nomor: <strong>1</strong></p>
                  <p><strong class="text-[#4ECDC4]">C3=C4</strong> â†’ Nomor: <strong>3</strong></p>
                  <p><strong class="text-[#4ECDC4]">C5=C6</strong> â†’ Nomor: <strong>5</strong></p>
                </div>
                <p class="text-xs sm:text-sm text-gray-600 mt-2">âœ“ Gunakan semua nomor terkecil: <strong class="text-[#4ECDC4]">1,3,5</strong></p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#764ba2]">
                <p class="font-semibold text-[#764ba2] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 4: Tentukan Suffix</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">âœ“ Ada <strong>3 ikatan rangkap</strong> â†’ Gunakan suffix <strong>'-triena'</strong></p>
                <div class="bg-[#764ba2]/10 rounded p-2 text-xs sm:text-sm text-center">
                  <p><span class="font-semibold text-[#764ba2]">1 ikatan</span> â†’ -ena</p>
                  <p><span class="font-semibold text-[#764ba2]">2 ikatan</span> â†’ -diena</p>
                  <p><span class="font-semibold text-[#764ba2]">3 ikatan</span> â†’ -triena âœ…</p>
                </div>
              </div>
              
              <div class="bg-gradient-to-r from-[#667eea] to-[#764ba2] rounded-lg p-2.5 sm:p-3 text-white">
                <p class="text-xs sm:text-sm font-bold mb-1">âœ“ HASIL AKHIR:</p>
                <p class="font-mono text-center text-base sm:text-lg font-bold">1,3,5-Heksatriena</p>
                <p class="text-[10px] sm:text-xs text-white/80 text-center mt-1">(Nomor posisi 1,3,5 + Nama rantai Heks + Suffix triena)</p>
              </div>

              <!-- Info Khusus -->
              <div class="bg-yellow-50 border-l-4 border-yellow-400 rounded-lg p-2.5 sm:p-3">
                <p class="font-semibold text-yellow-700 mb-1 sm:mb-2 text-sm sm:text-base">ğŸ’¡ Pola Konjugatif:</p>
                <p class="text-xs sm:text-sm text-gray-600">Senyawa ini adalah contoh <strong>diene konjugatif</strong> yang diperluas! Pola alternating (C=C-C=C-C=C) membuat elektron dapat beresonansi di sepanjang rantai, memberikan sifat khusus yang sangat reaktif!ğŸ”„</p>
              </div>
            </div>
          </div>
        `;
      } else if (type === '2-butena') {
        display.innerHTML = `
          <div class="space-y-4">
            <!-- Struktur Molekul -->
            <div>
              <p class="font-semibold text-[#667eea] mb-3 text-center text-lg">CHâ‚ƒ-CH=CH-CHâ‚ƒ</p>
              <svg viewBox="0 0 380 180" class="w-full max-w-[380px] h-auto mx-auto block">
                <!-- C1 with H atoms (single bonded) -->
                <circle cx="60" cy="90" r="16" fill="#667eea"/>
                <text x="60" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C1 top-left -->
                <line x1="50" y1="76" x2="30" y2="50" stroke="#333" stroke-width="2"/>
                <text x="25" y="45" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- H on C1 bottom-left -->
                <line x1="50" y1="104" x2="30" y2="130" stroke="#333" stroke-width="2"/>
                <text x="25" y="135" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- H on C1 back -->
                <line x1="60" y1="74" x2="60" y2="50" stroke="#333" stroke-width="2"/>
                <text x="60" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Single Bond to C2 -->
                <line x1="76" y1="90" x2="116" y2="90" stroke="#333" stroke-width="2"/>
                
                <!-- C2 with H atom (double bonded) - showing only 1 H -->
                <circle cx="136" cy="90" r="16" fill="#FFA500"/>
                <text x="136" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C2 top -->
                <line x1="136" y1="74" x2="136" y2="50" stroke="#333" stroke-width="2"/>
                <text x="136" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Double Bond to C3 (sigma and pi) -->
                <line x1="152" y1="83" x2="196" y2="83" stroke="#333" stroke-width="3"/>
                <line x1="152" y1="97" x2="196" y2="97" stroke="#FFA500" stroke-width="2"/>
                
                <!-- C3 with H atom (double bonded) - showing only 1 H -->
                <circle cx="216" cy="90" r="16" fill="#FFA500"/>
                <text x="216" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C3 top -->
                <line x1="216" y1="74" x2="216" y2="50" stroke="#333" stroke-width="2"/>
                <text x="216" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Single Bond to C4 -->
                <line x1="232" y1="90" x2="276" y2="90" stroke="#333" stroke-width="2"/>
                
                <!-- C4 with H atoms (single bonded) -->
                <circle cx="296" cy="90" r="16" fill="#667eea"/>
                <text x="296" y="98" font-size="18" font-weight="bold" fill="white" text-anchor="middle">C</text>
                
                <!-- H on C4 top-right -->
                <line x1="306" y1="76" x2="326" y2="50" stroke="#333" stroke-width="2"/>
                <text x="331" y="45" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- H on C4 bottom-right -->
                <line x1="306" y1="104" x2="326" y2="130" stroke="#333" stroke-width="2"/>
                <text x="331" y="135" font-size="14" fill="#333" font-weight="bold">H</text>
                
                <!-- H on C4 back -->
                <line x1="296" y1="74" x2="296" y2="50" stroke="#333" stroke-width="2"/>
                <text x="296" y="42" font-size="14" fill="#333" font-weight="bold" text-anchor="middle">H</text>
                
                <!-- Numbers -->
                <text x="60" y="165" font-size="16" font-weight="bold" fill="#667eea" text-anchor="middle">1</text>
                <text x="136" y="165" font-size="16" font-weight="bold" fill="#FFA500" text-anchor="middle">2</text>
                <text x="216" y="165" font-size="16" font-weight="bold" fill="#FFA500" text-anchor="middle">3</text>
                <text x="296" y="165" font-size="16" font-weight="bold" fill="#667eea" text-anchor="middle">4</text>
              </svg>
            </div>

            <!-- Pembahasan Langkah Demi Langkah -->
            <div class="sm:bg-gradient-to-r sm:from-[#667eea]/10 sm:to-[#764ba2]/10 sm:rounded-2xl sm:p-4 space-y-2 sm:space-y-3 mt-4 sm:mt-0">
              <h4 class="font-bold text-[#667eea] text-base sm:text-lg mb-2 sm:mb-3">ğŸ“ Pembahasan Lengkap</h4>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#667eea]">
                <p class="font-semibold text-[#667eea] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 1: Identifikasi Rantai Utama</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1">âœ“ Rantai terpanjang yang mengandung <strong>ikatan rangkap</strong></p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Jumlah atom karbon: <span class="font-mono font-bold text-[#667eea]">4 karbon</span> â†’ Nama dasar: <strong>Butena</strong></p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#FFA500]">
                <p class="font-semibold text-[#FFA500] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 2: Tentukan Penomoran Rantai</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">Pilih ujung yang <strong>TERDEKAT dengan ikatan rangkap</strong>:</p>
                <div class="bg-gray-50 rounded p-2 text-xs font-mono space-y-1 mb-1 sm:mb-2">
                  <p>Dari kiri (1-2-3-4): Ikatan di C<strong class="text-[#FFA500]">2</strong>-C<strong class="text-[#FFA500]">3</strong> âœ… <span class="text-green-600 font-bold">TERDEKAT!</span></p>
                  <p>Dari kanan (4-3-2-1): Ikatan di C<strong>2</strong>-C<strong>3</strong> (sama) âœ“</p>
                </div>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ <strong>Hasilnya sama dari mana pun, untuk pembahasan ini, kita pilih dari arah kiri ya. Jika kalian ingin mengerjakan dari kanan juga boleh, hasil akhir akan SAMA</strong></p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#4ECDC4]">
                <p class="font-semibold text-[#4ECDC4] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 3: Identifikasi Posisi Ikatan Rangkap</p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Ikatan berada di antara C<span class="font-mono font-bold text-[#FFA500]">2</span> dan C<span class="font-mono font-bold text-[#FFA500]">3</span></p>
                <p class="text-xs sm:text-sm text-gray-600 mt-1">âœ“ Gunakan nomor karbon yang <strong>TERKECIL</strong>: <span class="font-mono font-bold text-[#FFA500]">2</span></p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#764ba2]">
                <p class="font-semibold text-[#764ba2] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 4: Cek Cabang</p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Tidak ada cabang pada senyawa ini</p>
                <p class="text-xs sm:text-sm text-gray-600 mt-1">âœ“ Rantai lurus dan sempurna</p>
              </div>
              
              <div class="bg-gradient-to-r from-[#667eea] to-[#764ba2] rounded-lg p-2.5 sm:p-3 text-white">
                <p class="text-xs sm:text-sm font-bold mb-1">âœ“ HASIL AKHIR:</p>
                <p class="font-mono text-center text-base sm:text-lg font-bold">2-Butena</p>
                <p class="text-[10px] sm:text-xs text-white/80 text-center mt-1">(Nomor posisi 2 + Nama rantai Butena)</p>
              </div>

              <!-- Perbedaan 1-Butena vs 2-Butena -->
              <div class="bg-yellow-50 border-l-4 border-yellow-400 rounded-lg p-2.5 sm:p-3 mt-3 sm:mt-4">
                <p class="font-semibold text-yellow-700 mb-1 sm:mb-2 text-sm sm:text-base">ğŸ’¡ Perbedaan Penting:</p>
                <div class="grid grid-cols-2 gap-2 sm:gap-3 text-xs sm:text-sm">
                  <div>
                    <p class="font-mono font-bold text-[#4ECDC4]">1-Butena</p>
                    <p class="text-gray-600">Ikatan rangkap di ujung</p>
                    <p class="text-gray-600">Posisi: C<strong>1</strong>-C<strong>2</strong></p>
                  </div>
                  <div>
                    <p class="font-mono font-bold text-[#FFA500]">2-Butena</p>
                    <p class="text-gray-600">Ikatan rangkap di tengah</p>
                    <p class="text-gray-600">Posisi: C<strong>2</strong>-C<strong>3</strong></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
      }
    }
    
    // --- LOGIKA KUIS INTERAKTIF ---
    const quizData = [
      {
        id: 0,
        correctAnswer: '3-metil-2-pentena',
        options: ['3-metil-2-pentena', '2-metil-3-pentena', '3-metil-3-pentena'],
        svg: `
          <svg width="320" height="120" viewbox="0 0 320 120">
            <!-- Main chain --> 
            <text x="20" y="70" class="text-lg font-mono font-bold" fill="#667eea">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text> 
            <line x1="55" y1="65" x2="75" y2="65" stroke="#333" stroke-width="2" /> 
            <text x="80" y="70" class="text-lg font-mono font-bold" fill="#667eea">CH</text> 
            <line x1="110" y1="65" x2="130" y2="65" stroke="#333" stroke-width="2" /> 
            <line x1="110" y1="60" x2="130" y2="60" stroke="#333" stroke-width="2" /> 
            <text x="135" y="70" class="text-lg font-mono font-bold" fill="#4ECDC4">C</text> 
            <line x1="155" y1="65" x2="175" y2="65" stroke="#333" stroke-width="2" /> 
            <text x="180" y="70" class="text-lg font-mono font-bold" fill="#667eea">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text> 
            <line x1="220" y1="65" x2="240" y2="65" stroke="#333" stroke-width="2" /> 
            <text x="245" y="70" class="text-lg font-mono font-bold" fill="#667eea">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text> 
            <!-- Branch --> 
            <line x1="145" y1="50" x2="145" y2="30" stroke="#333" stroke-width="2" /> 
            <text x="130" y="25" class="text-lg font-mono font-bold" fill="#FFA500">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text> 
            <!-- Numbers -->
            <text x="30" y="95" class="text-sm font-bold" fill="#667eea">1</text> 
            <text x="85" y="95" class="text-sm font-bold" fill="#667eea">2</text> 
            <text x="140" y="95" class="text-sm font-bold" fill="#4ECDC4">3</text> 
            <text x="190" y="95" class="text-sm font-bold" fill="#667eea">4</text> 
            <text x="255" y="95" class="text-sm font-bold" fill="#667eea">5</text>
          </svg>
        `,
        feedbackHTML: `
          <div class="space-y-2 sm:space-y-3 text-left mt-2 sm:mt-0">
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#667eea]">
                <p class="font-semibold text-[#667eea] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 1: Identifikasi Rantai Utama</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1">Rantai terpanjang yang mengandung <strong>ikatan rangkap</strong>.</p>
                <p class="text-xs sm:text-sm text-gray-600">Jumlah: 5 karbon = <strong class="text-[#667eea]">Pentena</strong>.</p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#FFA500]">
                <p class="font-semibold text-[#FFA500] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 2: Penomoran</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">Cek dari kedua arah untuk menemukan yang terdekat ke ikatan rangkap:</p>
                <div class="bg-gray-50 rounded p-2 text-[10px] sm:text-xs font-mono space-y-1 mb-1 sm:mb-2">
                  <p>Dari kiri (1-2-3-4-5): Ikatan di C2-C3 âœ“ <span class="text-green-600 font-bold">TERDEKAT!</span></p>
                  <p>Dari kanan (5-4-3-2-1): Ikatan di C3-C4 âœ— Lebih jauh</p>
                </div>
                <p class="text-xs sm:text-sm text-gray-600">â†’ Jadi, penomoran dimulai dari <strong>kiri</strong>.</p>
              </div>

              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#4ECDC4]">
                <p class="font-semibold text-[#4ECDC4] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 3: Identifikasi Posisi Ikatan Rangkap</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1">âœ“ Ikatan berada di antara C2 dan C3</p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Gunakan nomor karbon yang TERKECIL: 2</p>
              </div>
              
              <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#764ba2]">
                <p class="font-semibold text-[#764ba2] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 4: Identifikasi Cabang</p>
                <p class="text-xs sm:text-sm text-gray-600">Di karbon nomor 3 terdapat gugus <strong>-CHâ‚ƒ (metil)</strong>.</p>
                <p class="text-xs sm:text-sm text-gray-600 mt-1">â†’ Nama cabang: <strong>3-metil</strong>.</p>
              </div>
              
              <div class="bg-gradient-to-r from-[#667eea]/20 to-[#764ba2]/20 rounded-lg p-2.5 sm:p-3 text-center">
                <p class="text-[10px] sm:text-xs text-gray-500 mb-1">Gabungkan: (Cabang) + (Posisi Ikatan) + (Rantai Induk)</p>
                <p class="font-mono text-base sm:text-lg font-bold text-[#667eea]">3-metil-2-pentena</p>
              </div>
            </div>
        `
      },
      {
        id: 1,
        correctAnswer: '2,3,3-trimetil-1,4-pentadiena',
        options: ['2-metil-3,3-dimetil-1,4-pentadiena', '2,3,3-trimetil-1,4-pentadiena', '3,3,4-trimetil-1,4-pentadiena'],
        svg: `
          <svg width="350" height="150" viewbox="0 0 350 150">
            <!-- Main Chain: C=C-C-C=C -->
            <!-- C1=C2 -->
            <text x="20" y="100" class="text-lg font-mono font-bold" fill="#667eea">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>
            <line x1="55" y1="95" x2="75" y2="95" stroke="#333" stroke-width="2" />
            <line x1="55" y1="100" x2="75" y2="100" stroke="#333" stroke-width="2" />
            
            <!-- C2 -->
            <text x="80" y="100" class="text-lg font-mono font-bold" fill="#4ECDC4">C</text>
            <!-- Branch C2 (Methyl Up) -->
            <line x1="88" y1="80" x2="88" y2="60" stroke="#333" stroke-width="2" />
            <text x="75" y="55" class="text-lg font-mono font-bold" fill="#FFA500">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>

            <!-- C2-C3 -->
            <line x1="95" y1="97" x2="125" y2="97" stroke="#333" stroke-width="2" />

            <!-- C3 -->
            <text x="130" y="100" class="text-lg font-mono font-bold" fill="#4ECDC4">C</text>
            <!-- Branch C3 (Methyl Up) -->
            <line x1="138" y1="80" x2="138" y2="60" stroke="#333" stroke-width="2" />
            <text x="125" y="55" class="text-lg font-mono font-bold" fill="#FFA500">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>
            <!-- Branch C3 (Methyl Down) -->
            <line x1="138" y1="110" x2="138" y2="130" stroke="#333" stroke-width="2" />
            <text x="125" y="145" class="text-lg font-mono font-bold" fill="#FFA500">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>

            <!-- C3-C4 -->
            <line x1="145" y1="97" x2="175" y2="97" stroke="#333" stroke-width="2" />

            <!-- C4 -->
            <text x="180" y="100" class="text-lg font-mono font-bold" fill="#667eea">CH</text>
            <!-- C4=C5 -->
            <line x1="210" y1="95" x2="230" y2="95" stroke="#333" stroke-width="2" />
            <line x1="210" y1="100" x2="230" y2="100" stroke="#333" stroke-width="2" />

            <!-- C5 -->
            <text x="235" y="100" class="text-lg font-mono font-bold" fill="#667eea">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>

            <!-- Numbers -->
            <text x="30" y="125" class="text-xs font-bold" fill="#999">1</text>
            <text x="88" y="125" class="text-xs font-bold" fill="#999">2</text>
            <text x="138" y="125" class="text-xs font-bold" fill="#999">3</text>
            <text x="188" y="125" class="text-xs font-bold" fill="#999">4</text>
            <text x="245" y="125" class="text-xs font-bold" fill="#999">5</text>
          </svg>
        `,
        feedbackHTML: `
          <div class="space-y-2 sm:space-y-3 text-left mt-2 sm:mt-0">
            <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#667eea]">
              <p class="font-semibold text-[#667eea] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 1: Identifikasi Rantai Utama</p>
              <p class="text-xs sm:text-sm text-gray-600 mb-1">Rantai terpanjang yang mengandung <strong>kedua</strong> ikatan rangkap, yaitu 5 karbon (pentena).</p>
              <div class="text-[10px] sm:text-sm text-gray-600 bg-gray-50 p-2 rounded mt-2 border border-gray-100">
                <p class="font-semibold mb-1">Penentuan Suffix</p>
                <p>âœ“ Ada 2 ikatan rangkap â†’ Gunakan suffix '-diena'</p>
                <ul class="ml-4 list-none text-[10px] sm:text-xs text-gray-500 mt-1 space-y-1">
                   <li>1 ikatan â†’ -ena</li>
                   <li>2 ikatan â†’ -diena âœ…</li>
                   <li>3 ikatan â†’ -triena</li>
                </ul>
              </div>
              <p class="text-xs sm:text-sm text-gray-600 mt-2 font-medium">Jadi, Jumlah: 5 karbon + 2 ikatan rangkap = Pentadiena.</p>
            </div>
            
            <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#FFA500]">
              <p class="font-semibold text-[#FFA500] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 2: Penomoran</p>
              <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">Cek dari kedua arah untuk menemukan yang terdekat ke ikatan rangkap:</p>
              <div class="bg-gray-50 rounded p-2 text-[10px] sm:text-xs font-mono space-y-1 mb-1 sm:mb-2">
                <p>Dari kiri: Ikatan di 1,4 (Sama)</p>
                <p>Dari kanan: Ikatan di 1,4 (Sama)</p>
              </div>
              <p class="text-xs sm:text-sm text-gray-600 mb-1">Karena posisi ikatan sama, cek posisi cabang:</p>
              <div class="bg-gray-50 rounded p-2 text-[10px] sm:text-xs font-mono space-y-1 mb-1 sm:mb-2">
                <p>Kiri: Cabang di 2, 3, 3 âœ… (Lebih kecil)</p>
                <p>Kanan: Cabang di 3, 3, 4 âŒ</p>
              </div>
              <p class="text-xs sm:text-sm text-gray-600">â†’ Jadi, penomoran dimulai dari <strong>kiri</strong>.</p>
            </div>

            <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#4ECDC4]">
                <p class="font-semibold text-[#4ECDC4] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 3: Identifikasi Posisi Ikatan Rangkap</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1">âœ“ Ikatan berada di antara C1-C2 dan C4-C5</p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Gunakan nomor karbon yang TERKECIL: 1,4</p>
            </div>
            
            <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#764ba2]">
              <p class="font-semibold text-[#764ba2] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 4: Identifikasi Cabang</p>
              <p class="text-xs sm:text-sm text-gray-600">Ada 3 gugus metil (di nomor 2, 3, dan 3).</p>
              <p class="text-xs sm:text-sm text-gray-600 mt-1">â†’ Gunakan awalan "tri": <strong>2,3,3-trimetil</strong>.</p>
            </div>
            
            <div class="bg-gradient-to-r from-[#667eea]/20 to-[#764ba2]/20 rounded-lg p-2.5 sm:p-3 text-center">
              <p class="text-[10px] sm:text-xs text-gray-500 mb-1">Gabungkan: (Cabang) + (Posisi Ikatan) + (Rantai Induk)</p>
              <p class="font-mono text-base sm:text-lg font-bold text-[#667eea]">2,3,3-trimetil-1,4-pentadiena</p>
            </div>
          </div>
        `
      },
      {
        id: 2,
        correctAnswer: '3-propil-1,4-heksadiena',
        options: ['3-propil-1,4-heksadiena', '4-propil-2,5-heksadiena', '4-etuna-1-heptena'],
        svg: `
          <svg width="380" height="160" viewbox="0 0 380 160">
            <!-- Main Chain: C=C-C-C=C-C -->
            <!-- C1=C2 -->
            <text x="20" y="80" class="text-lg font-mono font-bold" fill="#667eea">CH<tspan baseline-shift="sub" font-size="75%">2</tspan></text>
            <line x1="55" y1="75" x2="75" y2="75" stroke="#333" stroke-width="2" />
            <line x1="55" y1="80" x2="75" y2="80" stroke="#333" stroke-width="2" />
            
            <!-- C2-C3 -->
            <text x="80" y="80" class="text-lg font-mono font-bold" fill="#667eea">CH</text>
            <line x1="105" y1="77" x2="125" y2="77" stroke="#333" stroke-width="2" />

            <!-- C3 -->
            <text x="130" y="80" class="text-lg font-mono font-bold" fill="#4ECDC4">CH</text>
            
            <!-- Branch Propyl (Down) -->
            <line x1="140" y1="90" x2="140" y2="110" stroke="#333" stroke-width="2" />
            <text x="125" y="125" class="text-sm font-mono font-bold" fill="#FFA500">CH<tspan baseline-shift="sub" font-size="75%">2</tspan>-CH<tspan baseline-shift="sub" font-size="75%">2</tspan>-CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>

            <!-- C3-C4 -->
            <line x1="155" y1="77" x2="175" y2="77" stroke="#333" stroke-width="2" />

            <!-- C4 -->
            <text x="180" y="80" class="text-lg font-mono font-bold" fill="#667eea">CH</text>
            <!-- C4=C5 -->
            <line x1="205" y1="75" x2="225" y2="75" stroke="#333" stroke-width="2" />
            <line x1="205" y1="80" x2="225" y2="80" stroke="#333" stroke-width="2" />

            <!-- C5 -->
            <text x="230" y="80" class="text-lg font-mono font-bold" fill="#667eea">CH</text>
             <!-- C5-C6 -->
            <line x1="255" y1="77" x2="275" y2="77" stroke="#333" stroke-width="2" />
            <!-- C6 -->
            <text x="280" y="80" class="text-lg font-mono font-bold" fill="#667eea">CH<tspan baseline-shift="sub" font-size="75%">3</tspan></text>

            <!-- Numbers -->
            <text x="30" y="100" class="text-xs font-bold" fill="#999">1</text>
            <text x="88" y="100" class="text-xs font-bold" fill="#999">2</text>
            <text x="138" y="100" class="text-xs font-bold" fill="#999">3</text>
            <text x="190" y="100" class="text-xs font-bold" fill="#999">4</text>
            <text x="238" y="100" class="text-xs font-bold" fill="#999">5</text>
            <text x="288" y="100" class="text-xs font-bold" fill="#999">6</text>
          </svg>
        `,
        feedbackHTML: `
          <div class="space-y-2 sm:space-y-3 text-left mt-2 sm:mt-0">
            <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#667eea]">
              <p class="font-semibold text-[#667eea] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 1: Identifikasi Rantai Utama</p>
              <p class="text-xs sm:text-sm text-gray-600 mb-1">Rantai terpanjang yang mengandung <strong>kedua</strong> ikatan rangkap, yaitu 6 karbon (heksena).</p>
              <div class="text-[10px] sm:text-sm text-gray-600 bg-gray-50 p-2 rounded mt-2 border border-gray-100">
                <p class="font-semibold mb-1">Penentuan Suffix</p>
                <p>âœ“ Ada 2 ikatan rangkap â†’ Gunakan suffix '-diena'</p>
                <ul class="ml-4 list-none text-[10px] sm:text-xs text-gray-500 mt-1 space-y-1">
                   <li>1 ikatan â†’ -ena</li>
                   <li>2 ikatan â†’ -diena âœ…</li>
                   <li>3 ikatan â†’ -triena</li>
                </ul>
              </div>
              <p class="text-xs sm:text-sm text-gray-600 mt-2 font-medium">Jadi, Jumlah: 6 karbon + 2 ikatan rangkap = Heksadiena.</p>
            </div>
            
            <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#FFA500]">
              <p class="font-semibold text-[#FFA500] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 2: Penomoran</p>
              <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">Cek dari kedua arah untuk menemukan yang terdekat ke ikatan rangkap:</p>
              <div class="bg-gray-50 rounded p-2 text-[10px] sm:text-xs font-mono space-y-1 mb-1 sm:mb-2">
                <p>Dari kiri: Ikatan di <strong>1, 4</strong> âœ… <span class="text-green-600 font-bold">TERDEKAT!</span></p>
                <p>Dari kanan: Ikatan di <strong>2, 5</strong> âœ— Lebih jauh</p>
              </div>
              <p class="text-xs sm:text-sm text-gray-600">â†’ Jadi, penomoran dimulai dari <strong>kiri</strong>.</p>
            </div>

            <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#4ECDC4]">
                <p class="font-semibold text-[#4ECDC4] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 3: Identifikasi Posisi Ikatan Rangkap</p>
                <p class="text-xs sm:text-sm text-gray-600 mb-1">âœ“ Ikatan berada di antara C1-C2 dan C4-C5</p>
                <p class="text-xs sm:text-sm text-gray-600">âœ“ Gunakan nomor karbon yang TERKECIL: 1,4</p>
            </div>
            
            <div class="bg-white rounded-lg p-2.5 sm:p-3 border-l-4 border-[#764ba2]">
              <p class="font-semibold text-[#764ba2] mb-1 sm:mb-2 text-sm sm:text-base">Langkah 4: Identifikasi Cabang</p>
              <p class="text-xs sm:text-sm text-gray-600">Di karbon nomor 3 terdapat gugus <strong>propil (-CHâ‚‚-CHâ‚‚-CHâ‚ƒ)</strong>.</p>
              <p class="text-xs sm:text-sm text-gray-600 mt-1">â†’ Nama cabang: <strong>3-propil</strong>.</p>
            </div>
            
            <div class="bg-gradient-to-r from-[#667eea]/20 to-[#764ba2]/20 rounded-lg p-2.5 sm:p-3 text-center">
              <p class="text-[10px] sm:text-xs text-gray-500 mb-1">Gabungkan: (Cabang) + (Posisi Ikatan) + (Rantai Induk)</p>
              <p class="font-mono text-base sm:text-lg font-bold text-[#667eea]">3-propil-1,4-heksadiena</p>
            </div>
          </div>
        `
      }
    ];

    let currentQuestionIndex = 0;

    function loadQuestion(index) {
      const question = quizData[index];
      const structureDiv = document.getElementById('quizStructure');
      const optionsDiv = document.getElementById('quizOptions');
      const feedbackDiv = document.getElementById('answerFeedback');
      const nextBtn = document.getElementById('nextQuestionBtn');

      // Reset UI
      structureDiv.innerHTML = question.svg;
      optionsDiv.innerHTML = '';
      feedbackDiv.innerHTML = '';
      nextBtn.classList.add('hidden');

      // Generate Options
      question.options.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'interactive-btn bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-xl font-medium transition-colors duration-200 shadow-sm border border-gray-200';
        btn.textContent = opt;
        btn.onclick = () => checkQuizAnswer(opt, btn, question);
        optionsDiv.appendChild(btn);
      });
    }

    function checkQuizAnswer(selectedAnswer, btn, questionData) {
      const feedbackDiv = document.getElementById('answerFeedback');
      const nextBtn = document.getElementById('nextQuestionBtn');
      const allBtns = document.querySelectorAll('#quizOptions button');

      // Disable all buttons to prevent double clicking
      allBtns.forEach(b => b.disabled = true);

      if (selectedAnswer === questionData.correctAnswer) {
        // Correct
        btn.classList.remove('bg-gray-100', 'hover:bg-gray-200', 'border-gray-200');
        btn.classList.add('bg-green-500', 'text-white', 'shadow-lg', 'scale-105', 'border-green-600');
        
        feedbackDiv.innerHTML = `
          <div class="sm:bg-gradient-to-r sm:from-green-100 sm:to-teal-100 sm:p-4 sm:rounded-xl sm:border-2 sm:border-green-400 mt-4 animate-popIn">
            <p class="font-bold text-green-700 text-base sm:text-lg mb-2 flex items-center justify-center gap-2">ğŸ‰ Benar Sekali!</p>
            ${questionData.feedbackHTML}
          </div>
        `;
        
        // Show next button if available
        if (currentQuestionIndex < quizData.length - 1) {
          nextBtn.classList.remove('hidden');
        } else {
           // Finished all questions
           feedbackDiv.innerHTML += `
             <div class="mt-6 p-4 bg-[#667eea]/10 rounded-xl text-[#667eea] font-bold text-center animate-pulse-glow">
               âœ¨ Kamu telah menyelesaikan semua latihan! Hebat! âœ¨
             </div>
           `;
        }

      } else {
        // Incorrect
        btn.classList.remove('bg-gray-100', 'hover:bg-gray-200', 'border-gray-200');
        btn.classList.add('bg-red-500', 'text-white', 'border-red-600');
        
        feedbackDiv.innerHTML = `
           <div class="sm:bg-gradient-to-r sm:from-red-50 sm:to-orange-50 sm:p-4 sm:rounded-xl sm:border sm:border-red-200 mt-4 animate-shake text-left shadow-sm">
             <p class="font-bold text-red-700 text-base sm:text-lg mb-2 flex items-center gap-2">âŒ Belum Tepat</p>
             <p class="text-xs sm:text-sm text-red-600 mb-2 sm:mb-3 font-medium">Mari kita analisis bersama:</p>
             
             <div class="space-y-2">
               <div class="bg-white/80 p-2 sm:p-2.5 rounded-lg border-l-4 border-yellow-400">
                 <p class="text-[10px] sm:text-xs font-bold text-gray-700">ğŸ’¡ Hint 1: Rantai Utama</p>
                 <p class="text-[10px] sm:text-xs text-gray-600">Hitung jumlah C terpanjang yang mengandung ikatan rangkap. Berapa hasilnya?</p>
               </div>
               <div class="bg-white/80 p-2 sm:p-2.5 rounded-lg border-l-4 border-yellow-400">
                 <p class="text-[10px] sm:text-xs font-bold text-gray-700">ğŸ’¡ Hint 2: Penomoran</p>
                 <p class="text-[10px] sm:text-xs text-gray-600">Nomori dari ujung mana yang lebih dekat ke ikatan rangkap? Cek dari kiri dan kanan!</p>
               </div>
               <div class="bg-white/80 p-2 sm:p-2.5 rounded-lg border-l-4 border-yellow-400">
                 <p class="text-[10px] sm:text-xs font-bold text-gray-700">ğŸ’¡ Hint 3: Posisi Cabang</p>
                 <p class="text-[10px] sm:text-xs text-gray-600">Cabang metil berada di karbon nomor berapa? Tulis dengan format yang benar!</p>
               </div>
             </div>
           </div>
        `;
        
        // Re-enable buttons after a delay for retry
        setTimeout(() => {
          allBtns.forEach(b => b.disabled = false);
          btn.classList.remove('bg-red-500', 'text-white', 'border-red-600');
          btn.classList.add('bg-gray-100', 'hover:bg-gray-200', 'border-gray-200');
          feedbackDiv.innerHTML = '';
        }, 8000);
      }
    }

    function nextQuestion() {
      if (currentQuestionIndex < quizData.length - 1) {
        currentQuestionIndex++;
        loadQuestion(currentQuestionIndex);
      }
    }

    // --- ANIMATION LOGIC FOR SSI ---
    function runPolymerSimulation() {
        // Simpan status agar terbuka terus saat di-refresh
        sessionStorage.setItem('ssiUnlocked', 'true');
        
        const btn = document.getElementById('startSimBtn');
        const arrow = document.getElementById('arrowHint');
        const animArea = document.getElementById('polymerAnimationArea');
        const monomersGroup = document.getElementById('monomersGroup');
        const polymerChain = document.getElementById('polymerChain');
        const chemScene = document.getElementById('chemScene');
        const morphScene = document.getElementById('morphScene');
        const gasIcon = document.getElementById('gasIcon');
        const plasticIcon = document.getElementById('plasticIcon');
        const successLabel = document.getElementById('successLabel');
        const ssiSection = document.getElementById('ssiSection');

        // 1. Hide Button & Arrow
        btn.classList.add('opacity-0', 'scale-90');
        arrow.classList.add('hidden');
        setTimeout(() => { btn.style.display = 'none'; }, 300);

        // 2. Show Animation Container
        animArea.classList.remove('hidden');
        
        // --- SEQUENCE ---
        
        // T+1.0s: Break Bonds & Link
        setTimeout(() => {
            // Move monomers closer
            monomersGroup.classList.add('scale-75', 'tracking-tighter');
            // Hide double bonds (Visual trick: replace innerHTML or hide elements)
            document.querySelectorAll('.double-bond').forEach(el => {
                el.classList.remove('text-red-500');
                el.classList.add('text-slate-700', 'scale-0', 'transition-all', 'duration-500'); // Hide double bond
            });
        }, 1000);

        // T+1.5s: Show Polymer Chain
        setTimeout(() => {
            monomersGroup.classList.add('opacity-0', 'hidden'); // Hide monomers
            polymerChain.classList.remove('hidden'); // Show chain
        }, 2000);

        // T+3.5s: Switch to Morph Scene
        setTimeout(() => {
            chemScene.classList.add('opacity-0');
            setTimeout(() => {
                chemScene.classList.add('hidden');
                morphScene.classList.remove('hidden');
            }, 500);
        }, 3500);

        // T+4.0s: Morph Cloud -> Plastic
        setTimeout(() => {
            gasIcon.classList.remove('scale-100', 'opacity-100');
            gasIcon.classList.add('scale-50', 'opacity-0'); // Shrink Cloud
            
            plasticIcon.classList.remove('scale-50', 'opacity-0');
            plasticIcon.classList.add('scale-125', 'opacity-100'); // Grow Plastic
        }, 4000);

        // T+5.0s: Show Success Label
        setTimeout(() => {
            successLabel.classList.remove('opacity-0', 'scale-0');
            successLabel.classList.add('opacity-100', 'scale-100');
        }, 5000);

        // T+6.5s: Reveal SSI Box
        setTimeout(() => {
            ssiSection.classList.remove('hidden');
            // Allow browser reflow before adding opacity/translate classes for animation
            void ssiSection.offsetWidth; 
            ssiSection.classList.remove('opacity-0', 'translate-y-10');
            
            // Reset SSI Stepper to Step 1
            goToSsiStep(1);

            // Scroll smoothly to SSI section
            ssiSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 6500);
    }

    // --- SSI Stepper Logic ---
    let currentSsiStep = 1;
    let maxUnlockedStep = 1; // Menyimpan langkah terjauh yang sudah terbuka
    const totalSsiSteps = 4;

    function updateStepperUI() {
        // Update Progress Bar Line (Max progress is slightly less than 100 to center on dots, approx 33.3% per step)
        const progress = ((currentSsiStep - 1) / (totalSsiSteps - 1)) * 100;
        document.getElementById('stepperProgress').style.width = `${progress}%`;

        // Update Dots, Labels, and Content Visibility
        for (let i = 1; i <= totalSsiSteps; i++) {
            const dot = document.getElementById(`stepDot${i}`);
            const label = document.getElementById(`stepLabel${i}`);
            const content = document.getElementById(`ssiStep${i}`);
            const navContainer = document.getElementById(`stepNav${i}`);

            // Mengatur efek terkunci/terbuka pada navigasi stepper
            if (i <= maxUnlockedStep) {
                navContainer.classList.add('cursor-pointer');
                navContainer.classList.remove('opacity-50', 'cursor-not-allowed');
            } else {
                navContainer.classList.remove('cursor-pointer');
                navContainer.classList.add('opacity-50', 'cursor-not-allowed');
            }

            if (i < currentSsiStep) {
                // Completed Step
                dot.className = 'w-5 h-5 rounded-full bg-green-500 text-white flex items-center justify-center font-bold border-[1.5px] border-gray-50 shadow-sm transition-all duration-300 text-[8px]';
                // Convert text to checkmark
                dot.innerHTML = 'âœ“';
                label.className = 'text-[8px] md:text-[9px] font-bold text-green-600 mt-1.5 uppercase tracking-wider text-center leading-tight transition-colors';
                content.classList.add('hidden');
                content.classList.remove('block');
            } else if (i === currentSsiStep) {
                // Current Active Step
                dot.className = 'w-5 h-5 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold border-[1.5px] border-gray-50 shadow-md scale-110 transition-all duration-300 text-[8px] ring-2 ring-indigo-100';
                dot.innerHTML = i; // Reset text to number
                label.className = 'text-[8px] md:text-[9px] font-black text-indigo-700 mt-1.5 uppercase tracking-wider text-center leading-tight transition-colors';
                content.classList.remove('hidden');
                content.classList.add('block');
            } else {
                // Future Step
                dot.className = 'w-5 h-5 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-bold border-[1.5px] border-gray-50 shadow-sm transition-all duration-300 text-[8px]';
                dot.innerHTML = i; // Reset text to number
                label.className = 'text-[8px] md:text-[9px] font-bold text-gray-400 mt-1.5 uppercase tracking-wider text-center leading-tight transition-colors';
                content.classList.add('hidden');
                content.classList.remove('block');
            }
        }

        // Update Navigation Buttons Visibility
        const prevBtn = document.getElementById('prevSsiBtn');
        const nextBtn = document.getElementById('nextSsiBtn');

        if (currentSsiStep === 1) {
            prevBtn.classList.add('hidden');
        } else {
            prevBtn.classList.remove('hidden');
        }

        if (currentSsiStep === totalSsiSteps) {
            nextBtn.classList.add('hidden');
        } else {
            nextBtn.classList.remove('hidden');
        }
    }

    function goToSsiStep(step) {
        // Hanya bisa pindah ke step yang sudah terbuka kuncinya
        if(step >= 1 && step <= maxUnlockedStep) {
           currentSsiStep = step;
           sessionStorage.setItem('ssiCurrentStep', currentSsiStep);
           updateStepperUI();
        }
    }

    function nextSsiStep() {
        if (currentSsiStep < totalSsiSteps) {
            currentSsiStep++;
            // Buka kunci langkah baru jika baru pertama kali dilewati
            if (currentSsiStep > maxUnlockedStep) {
                maxUnlockedStep = currentSsiStep;
                sessionStorage.setItem('ssiMaxStep', maxUnlockedStep);
            }
            sessionStorage.setItem('ssiCurrentStep', currentSsiStep);
            updateStepperUI();
        }
    }

    function prevSsiStep() {
        if (currentSsiStep > 1) {
            currentSsiStep--;
            sessionStorage.setItem('ssiCurrentStep', currentSsiStep);
            updateStepperUI();
        }
    }

    // Logic for SSI Input Decision
    function initDecisionLogic() {
        const studentDecision = document.getElementById('studentDecision');
        const submitDecisionBtn = document.getElementById('submitDecisionBtn');
        
        if(studentDecision && submitDecisionBtn) {
            studentDecision.addEventListener('input', function() {
                // Menghitung jumlah kata dengan memisahkan teks berdasarkan spasi (whitespace)
                const text = this.value.trim();
                const wordCount = text === '' ? 0 : text.split(/\s+/).length;
                
                if(wordCount >= 2) {
                    submitDecisionBtn.disabled = false;
                    submitDecisionBtn.classList.remove('from-gray-500', 'to-gray-600', 'cursor-not-allowed', 'opacity-50');
                    submitDecisionBtn.classList.add('from-[#4ECDC4]', 'to-[#44A8FF]', 'hover:scale-105', 'hover:shadow-lg', 'cursor-pointer');
                } else {
                    submitDecisionBtn.disabled = true;
                    submitDecisionBtn.classList.add('from-gray-500', 'to-gray-600', 'cursor-not-allowed', 'opacity-50');
                    submitDecisionBtn.classList.remove('from-[#4ECDC4]', 'to-[#44A8FF]', 'hover:scale-105', 'hover:shadow-lg', 'cursor-pointer');
                }
            });
        }
    }

    function submitDecision() {
        const textarea = document.getElementById('studentDecision');
        const btn = document.getElementById('submitDecisionBtn');
        const feedback = document.getElementById('decisionFeedback');
        
        // Simpan status bahwa keputusan telah disubmit
        sessionStorage.setItem('ssiDecisionSubmitted', 'true');
        sessionStorage.setItem('ssiDecisionText', textarea.value);
        
        // Lock textarea
        textarea.readOnly = true;
        textarea.classList.add('opacity-70', 'cursor-not-allowed');
        textarea.classList.remove('focus:ring-2', 'focus:ring-[#4ECDC4]', 'focus:border-transparent');
        
        // Hide button smoothly
        btn.classList.add('scale-0', 'opacity-0');
        setTimeout(() => {
            btn.style.display = 'none';
            // Show feedback
            feedback.classList.remove('hidden');
            // Scroll to feedback slightly
            feedback.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 300);
    }

    // Initialize the quiz when the page loads
    document.addEventListener('DOMContentLoaded', () => {
        loadQuestion(0);
        
        // Restore SSI State if previously unlocked
        if (sessionStorage.getItem('ssiUnlocked') === 'true') {
            const btn = document.getElementById('startSimBtn');
            const arrow = document.getElementById('arrowHint');
            const animArea = document.getElementById('polymerAnimationArea');
            const monomersGroup = document.getElementById('monomersGroup');
            const polymerChain = document.getElementById('polymerChain');
            const chemScene = document.getElementById('chemScene');
            const morphScene = document.getElementById('morphScene');
            const gasIcon = document.getElementById('gasIcon');
            const plasticIcon = document.getElementById('plasticIcon');
            const successLabel = document.getElementById('successLabel');
            const ssiSection = document.getElementById('ssiSection');

            if (btn) btn.style.display = 'none';
            if (arrow) arrow.style.display = 'none';

            if (animArea) animArea.classList.remove('hidden');
            if (monomersGroup) monomersGroup.classList.add('hidden', 'opacity-0');
            if (polymerChain) polymerChain.classList.remove('hidden');
            if (chemScene) chemScene.classList.add('hidden', 'opacity-0');
            if (morphScene) morphScene.classList.remove('hidden');
            
            if (gasIcon) {
                gasIcon.classList.remove('scale-100', 'opacity-100');
                gasIcon.classList.add('scale-50', 'opacity-0');
            }
            if (plasticIcon) {
                plasticIcon.classList.remove('scale-50', 'opacity-0');
                plasticIcon.classList.add('scale-125', 'opacity-100');
            }
            if (successLabel) {
                successLabel.classList.remove('opacity-0', 'scale-0');
                successLabel.classList.add('opacity-100', 'scale-100');
            }

            if (ssiSection) ssiSection.classList.remove('hidden', 'opacity-0', 'translate-y-10');
            
            // Restore stepper progress
            const savedMaxStep = sessionStorage.getItem('ssiMaxStep');
            const savedCurrentStep = sessionStorage.getItem('ssiCurrentStep');
            if (savedMaxStep) maxUnlockedStep = parseInt(savedMaxStep);
            if (savedCurrentStep) currentSsiStep = parseInt(savedCurrentStep);
        }
        
        // Inisialisasi status Stepper awal saat dimuat (walaupun section masih hidden)
        updateStepperUI();
        // Inisialisasi text area input
        initDecisionLogic();
        
        // Restore Decision text & status
        const textarea = document.getElementById('studentDecision');
        if (sessionStorage.getItem('ssiDecisionText') && textarea) {
            textarea.value = sessionStorage.getItem('ssiDecisionText');
            // Trigger input event to re-evaluate button state
            textarea.dispatchEvent(new Event('input'));
        }
        
        if (sessionStorage.getItem('ssiDecisionSubmitted') === 'true') {
            const btn = document.getElementById('submitDecisionBtn');
            const feedback = document.getElementById('decisionFeedback');
            if(textarea) {
                textarea.readOnly = true;
                textarea.classList.add('opacity-70', 'cursor-not-allowed');
                textarea.classList.remove('focus:ring-2', 'focus:ring-[#4ECDC4]', 'focus:border-transparent');
            }
            if(btn) btn.style.display = 'none';
            if(feedback) feedback.classList.remove('hidden');
        }
    });
  </script>
 </body>
</html>
